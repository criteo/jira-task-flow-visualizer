!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,(function(t){"use strict";class e{constructor(t){this.base=t}[Symbol.iterator](){return this.base[Symbol.iterator]()}concat(...t){return r(function*(t){for(const e of t)yield*e}([this,...t.map(r)]))}entries(){return r(function*(t){let e=0;for(const r of t)yield[e++,r]}(this))}every(t){return!this.some(((e,r)=>!t(e,r)))}fill(t){return this.map((()=>t))}filter(t){return r(function*(e){for(const[r,n]of e)t(n,r)&&(yield n)}(this.entries()))}find(t){for(const[e,r]of this.entries())if(t(r,e))return r}findIndex(t){for(const[e,r]of this.entries())if(t(r,e))return e;return-1}flatMap(t){return r(function*(e){for(const[n,o]of e)yield*r(t(o,n))}(this.entries()))}forEach(t){for(const[e,r]of this.entries())t(r,e)}includes(t,e=0){return this.indexOf(t,e)>=0}indexOf(t,e=0){if(e<0)throw new Error("fromIndex doesn't support negative numbers because generator length isn't known");for(const[r,n]of this.entries())if(r>=e&&n===t)return r;return-1}join(t=","){return[...this].join(t)}keys(){return r(function*(t){let e=0;for(const r of t)yield e++}(this))}lastIndexOf(t,e=1/0){if(e<0)throw new Error("fromIndex doesn't support negative numbers because generator length isn't known");let r=-1;for(const[n,o]of this.entries())n<=e&&o===t&&(r=n);return r}get length(){return this.reduce((t=>t+1),0)}map(t){return r(function*(e){for(const[r,n]of e)yield t(n,r)}(this.entries()))}reduce(t,e){if(void 0===e){const e=t;let r,n=!0;for(const[t,o]of this.entries())n?(r=o,n=!1):r=e(r,o,t);if(n)throw new TypeError("Reduce of empty iterable with no initial value");return r}{const r=t;let n=e;for(const[t,e]of this.entries())n=r(n,e,t);return n}}reverse(){return r([...this].reverse())}slice(t=0,e=1/0){return r(function*(r){for(const[n,o]of r)if(n<t);else{if(!(n<e))break;yield o}}(this.entries()))}some(t){for(const[e,r]of this.entries())if(t(r,e))return!0;return!1}sort(t){return r([...this].sort(t))}splice(t,e=0,...n){return r(function*(r){for(const[o,i]of r)o===t&&(yield*n),(o<t||o>=t+e)&&(yield i)}(this.entries()))}values(){return this}}function r(t){return function(t){return"function"==typeof t[Symbol.iterator]}(t)?new e(t):new e({[Symbol.iterator]:()=>t})}function n(t){if(void 0!==t)return t;throw new Error("got unexpected undefined value")}function o(t,e){e.size<t.size&&([e,t]=[t,e]);for(const r of t)if(e.has(r))return!0;return!1}function i(){const t=new WeakSet;return(e,r)=>{if("object"==typeof r&&null!==r){if(t.has(r))return"[circular]";t.add(r)}return r}}function s(t,...e){const[r,...n]=t;return[r].concat(...n.map(((t,r)=>[JSON.stringify(e[r],i()),t]))).join("")}class a extends Map{getThrow(t){const e=this.get(t);if(void 0===e)throw new Error(`map doesn't contain key: ${t}`);return e}getDefault(t,e){const r=this.get(t);return void 0===r?e:r}setIfAbsent(t,e){const r=this.get(t);return void 0===r?(this.set(t,e),e):r}}class l{constructor(t,e,r=[]){this.child=t,this.data=e,this.points=r}}class h{constructor(t,e,r,n){this.source=t,this.target=e,this.data=r,this.points=n}}class c{constructor(t){this.data=t,this.dataChildren=[]}iroots(){return r([this])}roots(){return[this]}*iterChildren(){for(const{child:t}of this.dataChildren)yield t}ichildren(){return r(this.iterChildren())}children(){return[...this.ichildren()]}*iterChildLinks(){for(const{child:t,data:e,points:r}of this.dataChildren)yield new h(this,t,e,r)}ichildLinks(){return r(this.iterChildLinks())}childLinks(){return[...this.ichildLinks()]}[Symbol.iterator](){return new u([this])[Symbol.iterator]()}idescendants(t="depth"){return new u([this]).idescendants(t)}descendants(t="depth"){return[...this.idescendants(t)]}ilinks(){return new u([this]).ilinks()}links(){return[...this.ilinks()]}size(){return new u([this]).size()}sum(t){return new u([this]).sum(t),this}count(){return new u([this]).count(),this}height(){return new u([this]).height(),this}depth(){return new u([this]).depth(),this}split(){return[this]}connected(){return!0}}class u{constructor(t){this.dagRoots=t}[Symbol.iterator](){return this.idepth()}iroots(){return r(this.dagRoots)}roots(){return this.dagRoots.slice()}*idepth(){const t=this.roots(),e=new Set;let r;for(;r=t.pop();)e.has(r)||(e.add(r),yield r,t.push(...r.ichildren()))}*ibreadth(){const t=new Set;let e=this.roots(),r=[];do{let n;for(r=e.reverse(),e=[];n=r.pop();)t.has(n)||(t.add(n),yield n,e.push(...n.ichildren()))}while(e.length)}*ibefore(){const t=new a;for(const e of this)for(const r of e.ichildren())t.set(r,t.getDefault(r,0)+1);const e=this.roots();let r;for(;r=e.pop();){yield r;for(const n of r.ichildren()){const r=t.getThrow(n);r>1?t.set(n,r-1):e.push(n)}}}*iafter(){const t=this.roots(),e=new Set;let r;for(;r=t.pop();)e.has(r)||(r.ichildren().every((t=>e.has(t)))?(e.add(r),yield r):(t.push(r),t.push(...r.ichildren())))}idescendants(t="depth"){if("depth"===t)return r(this.idepth());if("breadth"===t)return r(this.ibreadth());if("before"===t)return r(this.ibefore());if("after"===t)return r(this.iafter());throw new Error(`unknown iteration style: ${t}`)}descendants(t="depth"){return[...this.idescendants(t)]}ilinks(){return this.idescendants().flatMap((t=>t.ichildLinks()))}links(){return[...this.ilinks()]}size(){return this.idescendants().reduce((t=>t+1),0)}sum(t){const e=new a;for(const[n,o]of this.idescendants("after").entries()){const i=t(o,n),s=new a;s.set(o,i);for(const t of o.ichildren()){const r=e.getThrow(t);for(const[t,e]of r.entries())s.set(t,e)}o.value=r(s.entries()).map((([,t])=>t)).reduce(((t,e)=>t+e)),e.set(o,s)}return this}count(){const t=new a;for(const e of this.idescendants("after"))if(e.ichildren()[Symbol.iterator]().next().done)t.set(e,new Set([e])),e.value=1;else{const r=new Set;for(const n of e.ichildren()){const e=t.getThrow(n);for(const t of e)r.add(t)}t.set(e,r),e.value=r.size}return this}height(){for(const t of this.idescendants("after"))t.value=Math.max(0,...t.ichildren().map((t=>{if(void 0===t.value)throw new Error("`after` iteration didn't iterate in after order");return t.value+1})));return this}depth(){const t=new a;for(const e of this)for(const r of e.ichildren())t.setIfAbsent(r,[]).push(e);for(const e of this.idescendants("before"))e.value=Math.max(0,...t.getDefault(e,[]).map((t=>{if(void 0===t.value)throw new Error("`before` iteration didn't iterate in before order");return t.value+1})));return this}split(){const t=new a,e=new a;for(const r of this.iroots())t.set(r,[]),e.set(r,new Set(r.idescendants()));for(const[r,n]of this.iroots().entries()){const i=e.getThrow(n);for(const s of this.iroots().slice(r+1)){o(i,e.getThrow(s))&&(t.getThrow(n).push(s),t.getThrow(s).push(n))}}const r=[],n=new Set;for(const e of this.iroots())if(!n.has(e)){n.add(e);const o=[e];r.push(o);const i=t.getThrow(e).slice();let s;for(;s=i.pop();)n.has(s)||(n.add(s),o.push(s),i.push(...t.getThrow(s)))}return r.map((t=>t.length>1?new u(t):t[0]))}connected(){return 1===this.split().length}}function f(t){if("string"!=typeof t)throw new Error("id is supposed to be string but got type "+typeof t);return t}function d(t){if(!t.length)throw new Error("dag contained no roots");const e=new Set,r=new Set;let n=null;function o(t){if(e.has(t))return[];if(r.has(t))return n=t,[t];{r.add(t);let i=[];for(const e of t.ichildren())if(i=o(e),i.length)break;return r.delete(t),e.add(t),i.length&&null!==n&&i.push(t),n===t&&(n=null),i}}for(const e of t){const t=o(e);if(t.length)throw new Error("dag contained a cycle: "+t.reverse().map((({data:t})=>`'${JSON.stringify(t,i())}'`)).join(" -> "))}for(const e of new u(t)){if(new Set(e.ichildren()).size!==e.dataChildren.length)throw new Error(`node '${e.data}' contained duplicate children`)}}function p(t,e,r){function n(e){if(!e.length)throw new Error("can't stratify empty data");const n=new Map;for(const[o,i]of e.entries()){const e=f(t(i,o)),s=r(i,o)||[],a=new c(i);if(n.has(e))throw new Error(`found a duplicate id: ${e}`);n.set(e,[a,s])}const o=[];for(const[t,e]of n.values()){for(const[r,o]of e){const e=n.get(r);if(!e)throw new Error(`missing id: ${r}`);const[i]=e;i.dataChildren.push(new l(t,o))}e.length||o.push(t)}return d(o),o.length>1?new u(o):o[0]}return n.id=function(n){return void 0===n?t:p(n,e,r)},n.parentData=function(e){return void 0===e?r:p(t,function(t){function e(e,r){return(t(e,r)||[]).map((([t])=>t))}return e.wrapped=t,e}(e),e)},n.parentIds=function(r){return void 0===r?e:p(t,r,v(r))},n}function v(t){function e(e,r){return(t(e,r)||[]).map((t=>[t,void 0]))}return e.wrapped=t,e}function m(t){if(function(t){try{return"string"==typeof t.id}catch{return!1}}(t))return t.id;throw new Error(s`default id function expected datum to have an id field but got '${t}'`)}function g(t){if(function(t){try{const e=t.parentIds;return void 0===e||e instanceof Array&&e.every((t=>"string"==typeof t))}catch{return!1}}(t))return t.parentIds;throw new Error(`default parentIds function expected datum to have a parentIds field but got: ${t}`)}function y(t,e){function r(r){if(!r.length)throw new Error("can't connect empty data");const o=new Map,i=new Map;for(const[n,s]of r.entries()){const r=f(t(s,n));let a=o.get(r);void 0===a&&(a=new c({id:r}),o.set(r,a));const h=f(e(s,n));let u=o.get(h);void 0===u&&(u=new c({id:h}),o.set(h,u)),a.dataChildren.push(new l(u,s)),i.set(r,i.get(r)||!1),i.set(h,!0)}const s=[];for(const[t,e]of i)e||s.push(n(o.get(t)));return d(s),s.length>1?new u(s):s[0]}return r.sourceId=function(r){return void 0===r?t:y(r,e)},r.targetId=function(r){return void 0===r?e:y(t,r)},r}function w(t){if(function(t){try{return"string"==typeof t[0]}catch{return!1}}(t))return t[0];throw new Error(`default source id expected datum[0] to be a string but got datum: ${t}`)}function b(t){if(function(t){try{return"string"==typeof t[1]}catch{return!1}}(t))return t[1];throw new Error(`default target id expected datum[1] to be a string but got datum: ${t}`)}function x(t,e){function r(...t){if(!t.length)throw new Error("must pass in at least one node");const r=new Map,n=[];function o(t){let e=r.get(t);return void 0===e&&(e=new c(t),r.set(t,e),n.push(e)),e}const i=t.map(o);let a,h=0;for(;a=n.pop();)a.dataChildren=(e(a.data,h++)||[]).map((([t,e])=>new l(o(t),e)));const f=new Set(i);for(const t of r.values())if(t.ichildren().some((t=>f.has(t))))throw new Error(s`node '${t.data}' pointed to a root`);return d(i),i.length>1?new u(i):i[0]}return r.children=function(e){return void 0===e?t:x(e,I(e))},r.childrenData=function(t){return void 0===t?e:x(function(t){function e(e,r){return(t(e,r)||[]).map((([t])=>t))}return e.wrapped=t,e}(t),t)},r}function I(t){function e(e,r){return(t(e,r)||[]).map((t=>[t,void 0]))}return e.wrapped=t,e}function M(t){if(function(t){try{const e=t.children;return void 0===e||e instanceof Array}catch{return!1}}(t))return t.children;throw new Error(s`default children function expected datum to have a children field but got: ${t}`)}let C,E,B=1e-60;do{B+=B,C=1+.1*B,E=1+.2*B}while(C<=1||E<=1);var V=B;var O=function(t,e,r){let n,o;for(let e=1;e<=r;e+=1){t[e][e]=1/t[e][e],o=-t[e][e];for(let r=1;r<e;r+=1)t[r][e]*=o;if(n=e+1,r<n)break;for(let i=n;i<=r;i+=1){o=t[e][i],t[e][i]=0;for(let r=1;r<=e;r+=1)t[r][i]+=o*t[r][e]}}};var k=function(t,e,r,n){let o,i;for(o=1;o<=r;o+=1){i=0;for(let e=1;e<o;e+=1)i+=t[e][o]*n[e];n[o]=(n[o]-i)/t[o][o]}for(let e=1;e<=r;e+=1){o=r+1-e,n[o]/=t[o][o],i=-n[o];for(let e=1;e<o;e+=1)n[e]+=i*t[e][o]}};var z=function(t,e,r,n){let o,i,s;for(let e=1;e<=r;e+=1){if(n[1]=e,s=0,o=e-1,o<1){if(s=t[e][e]-s,s<=0)break;t[e][e]=Math.sqrt(s)}else{for(let r=1;r<=o;r+=1){i=t[r][e];for(let n=1;n<r;n+=1)i-=t[n][e]*t[n][r];i/=t[r][r],t[r][e]=i,s+=i*i}if(s=t[e][e]-s,s<=0)break;t[e][e]=Math.sqrt(s)}n[1]=0}};var j=function(t,e,r,n,o,i,s,a,l,h,c,u,f,d=0,p,v,m){let g,y,w,b,x,I,M,C,E,B,j,S,T,_;const $=Math.min(n,c);let R=2*n+$*($+5)/2+2*c+1;for(let t=1;t<=n;t+=1)v[t]=e[t];for(let t=n+1;t<=R;t+=1)v[t]=0;for(let t=1;t<=c;t+=1)f[t]=0,i[t]=0;const A=[];if(0===m[1]){if(z(t,r,n,A),0!==A[1])return void(m[1]=2);k(t,r,n,e),O(t,r,n)}else{for(let r=1;r<=n;r+=1){o[r]=0;for(let n=1;n<=r;n+=1)o[r]+=t[n][r]*e[n]}for(let r=1;r<=n;r+=1){e[r]=0;for(let i=r;i<=n;i+=1)e[r]+=t[r][i]*o[i]}}s[1]=0;for(let r=1;r<=n;r+=1){o[r]=e[r],s[1]+=v[r]*o[r],v[r]=0;for(let e=r+1;e<=n;e+=1)t[e][r]=0}s[1]=-s[1]/2,m[1]=0;const N=n,P=N+n,D=P+$,F=D+$+1,q=F+$*($+1)/2,L=q+c;for(let t=1;t<=c;t+=1){I=0;for(let e=1;e<=n;e+=1)I+=a[e][t]*a[e][t];v[L+t]=Math.sqrt(I)}function U(){p[1]+=1,R=q;for(let t=1;t<=c;t+=1){R+=1,I=-l[t];for(let e=1;e<=n;e+=1)I+=a[e][t]*o[e];if(Math.abs(I)<V&&(I=0),t>u)v[R]=I;else if(v[R]=-Math.abs(I),I>0){for(let e=1;e<=n;e+=1)a[e][t]=-a[e][t];l[t]=-l[t]}}for(let t=1;t<=b;t+=1)v[q+f[t]]=0;w=0,x=0;for(let t=1;t<=c;t+=1)v[q+t]<x*v[L+t]&&(w=t,x=v[q+t]/v[L+t]);if(0===w){for(let t=1;t<=b;t+=1)i[f[t]]=v[D+t];return 999}return 0}function H(){for(let e=1;e<=n;e+=1){I=0;for(let r=1;r<=n;r+=1)I+=t[r][e]*a[r][w];v[e]=I}g=N;for(let t=1;t<=n;t+=1)v[g+t]=0;for(let e=b+1;e<=n;e+=1)for(let r=1;r<=n;r+=1)v[g+r]=v[g+r]+t[r][e]*v[e];S=!0;for(let t=b;t>=1;t-=1){I=v[t],R=F+t*(t+3)/2,g=R-t;for(let e=t+1;e<=b;e+=1)I-=v[R]*v[P+e],R+=e;I/=v[g],v[P+t]=I,f[t]<=u||(I<=0||(S=!1,y=t))}if(!S){M=v[D+y]/v[P+y];for(let t=1;t<=b;t+=1)f[t]<=u||v[P+t]<=0||(x=v[D+t]/v[P+t],x<M&&(M=x,y=t))}I=0;for(let t=N+1;t<=N+n;t+=1)I+=v[t]*v[t];if(Math.abs(I)<=V){if(S)return m[1]=1,999;for(let t=1;t<=b;t+=1)v[D+t]=v[D+t]-M*v[P+t];return v[D+b+1]=v[D+b+1]+M,700}I=0;for(let t=1;t<=n;t+=1)I+=v[N+t]*a[t][w];C=-v[q+w]/I,T=!0,S||M<C&&(C=M,T=!1);for(let t=1;t<=n;t+=1)o[t]+=C*v[N+t],Math.abs(o[t])<V&&(o[t]=0);s[1]+=C*I*(C/2+v[D+b+1]);for(let t=1;t<=b;t+=1)v[D+t]=v[D+t]-C*v[P+t];if(v[D+b+1]=v[D+b+1]+C,!T){I=-l[w];for(let t=1;t<=n;t+=1)I+=o[t]*a[t][w];if(w>u)v[q+w]=I;else if(v[q+w]=-Math.abs(I),I>0){for(let t=1;t<=n;t+=1)a[t][w]=-a[t][w];l[w]=-l[w]}return 700}b+=1,f[b]=w,R=F+(b-1)*b/2+1;for(let t=1;t<=b-1;t+=1)v[R]=v[t],R+=1;if(b===n)v[R]=v[n];else{for(let e=n;e>=b+1;e-=1)if(0!==v[e]&&(E=Math.max(Math.abs(v[e-1]),Math.abs(v[e])),B=Math.min(Math.abs(v[e-1]),Math.abs(v[e])),x=v[e-1]>=0?Math.abs(E*Math.sqrt(1+B*B/(E*E))):-Math.abs(E*Math.sqrt(1+B*B/(E*E))),E=v[e-1]/x,B=v[e]/x,1!==E))if(0===E){v[e-1]=B*x;for(let r=1;r<=n;r+=1)x=t[r][e-1],t[r][e-1]=t[r][e],t[r][e]=x}else{v[e-1]=x,j=B/(1+E);for(let r=1;r<=n;r+=1)x=E*t[r][e-1]+B*t[r][e],t[r][e]=j*(t[r][e-1]+x)-t[r][e],t[r][e-1]=x}v[R]=v[b]}return 0}function W(){if(R=F+y*(y+1)/2+1,g=R+y,0===v[g])return 798;if(E=Math.max(Math.abs(v[g-1]),Math.abs(v[g])),B=Math.min(Math.abs(v[g-1]),Math.abs(v[g])),x=v[g-1]>=0?Math.abs(E*Math.sqrt(1+B*B/(E*E))):-Math.abs(E*Math.sqrt(1+B*B/(E*E))),E=v[g-1]/x,B=v[g]/x,1===E)return 798;if(0===E){for(let t=y+1;t<=b;t+=1)x=v[g-1],v[g-1]=v[g],v[g]=x,g+=t;for(let e=1;e<=n;e+=1)x=t[e][y],t[e][y]=t[e][y+1],t[e][y+1]=x}else{j=B/(1+E);for(let t=y+1;t<=b;t+=1)x=E*v[g-1]+B*v[g],v[g]=j*(v[g-1]+x)-v[g],v[g-1]=x,g+=t;for(let e=1;e<=n;e+=1)x=E*t[e][y]+B*t[e][y+1],t[e][y+1]=j*(t[e][y]+x)-t[e][y+1],t[e][y]=x}return 0}function J(){g=R-y;for(let t=1;t<=y;t+=1)v[g]=v[R],R+=1,g+=1;return v[D+y]=v[D+y+1],f[y]=f[y+1],y+=1,y<b?797:0}function G(){return v[D+b]=v[D+b+1],v[D+b+1]=0,f[b]=0,b-=1,p[2]+=1,0}for(b=d,p[1]=0,p[2]=0,_=0;;){if(_=U(),999===_)return;for(;_=H(),0!==_;){if(999===_)return;if(700===_)if(y===b)G();else{for(;W(),_=J(),797===_;);G()}}}};var S={solveQP:function(t,e,r,n=[],o=0,i=[0,0]){const s=[],a=[],l=[],h=[],c=[],u=[];let f="";const d=t.length-1,p=r[1].length-1;if(!n)for(let t=1;t<=p;t+=1)n[t]=0;if(d!==t[1].length-1&&(f="Dmat is not symmetric!"),d!==e.length-1&&(f="Dmat and dvec are incompatible!"),d!==r.length-1&&(f="Amat and dvec are incompatible!"),p!==n.length-1&&(f="Amat and bvec are incompatible!"),(o>p||o<0)&&(f="Value of meq is invalid!"),""!==f)return{message:f};for(let t=1;t<=p;t+=1)a[t]=0,h[t]=0;const v=Math.min(d,p);for(let t=1;t<=d;t+=1)l[t]=0;s[1]=0;for(let t=1;t<=2*d+v*(v+5)/2+2*p+1;t+=1)c[t]=0;for(let t=1;t<=2;t+=1)u[t]=0;return j(t,e,d,d,l,h,s,r,n,d,p,o,a,0,u,c,i),1===i[1]&&(f="constraints are inconsistent, no solution!"),2===i[1]&&(f="matrix D in quadratic function is not positive definite!"),{solution:l,Lagrangian:h,value:s,unconstrained_solution:e,iterations:u,iact:a,message:f}}};function T(t,e,r,n,o=0){e.pop(),t.pop(),t.forEach((t=>t.pop())),r.forEach((t=>t.pop()));const i=function(t,e,r,n,o){if(!e.length)return[];const i=[[0]],s=[0],a=[[0]],l=[0];for(const e of t){const t=[0];t.push(...e),i.push(t)}s.push(...e),a.push(...e.map((()=>[0])));for(const t of r)for(const[e,r]of t.entries())a[e+1].push(-r);l.push(...n.map((t=>-t)));const{solution:h,message:c}=S.solveQP(i,s,a,l,o);if(c.length)throw new Error(`quadprog failed with: ${c}`);return h.shift(),h}(t,e,r,n,o);return i.push(0),i}function _(t,e,r){const n=1+Math.max(...e.values()),o=[],i=[];for(const s of t){let[t,...a]=s;for(const s of a){const a=e.getThrow(t),l=e.getThrow(s),h=new Array(n).fill(0);h[a]=1,h[l]=-1,o.push(h),i.push(-(r(t)[0]+r(s)[0])/2),t=s}}const s=new Array(n).fill(0);return[new Array(n).fill(null).map((()=>new Array(n).fill(0))),s,o,i]}function $(t,e,r,n){t[r][r]+=n,t[r][e]-=n,t[e][r]-=n,t[e][e]+=n}function R(t,e,r,n,o){t[n][n]+=o,t[n][r]-=2*o,t[n][e]+=o,t[r][n]-=2*o,t[r][r]+=4*o,t[r][e]-=2*o,t[e][n]+=o,t[e][r]-=2*o,t[e][e]+=o}function A(t,e,r,n){let o=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;for(const s of t){const t=s[0],a=s[s.length-1];o=Math.min(o,n[r.getThrow(t)]-e(t)[0]/2),i=Math.max(i,n[r.getThrow(a)]+e(a)[0]/2)}for(const e of t)for(const t of e)t.x=n[r.getThrow(t)]-o;return i-o}class N extends c{constructor(){super(void 0)}}function P(t){function e(e,r,n){const{vertNode:o,vertDummy:i,curveNode:s,curveDummy:l,comp:h}=t,c=function(t){const e=new a;let r=0;for(const n of t)for(const t of n)e.set(t,r++);return e}(e),[u,f,d,p]=_(e,c,r);for(const t of e)for(const e of t){const t=c.getThrow(e),r=e instanceof N?i:o;for(const n of e.ichildren()){const e=c.getThrow(n),a=n instanceof N?l:s;$(u,t,e,r+(n instanceof N?i:o));for(const r of n.ichildren()){R(u,t,e,c.getThrow(r),a)}}}for(let[t,...r]of e)for(const e of r)n.getThrow(t)!==n.getThrow(e)&&$(u,c.getThrow(t),c.getThrow(e),h),t=e;return A(e,r,c,T(u,f,d,p))}function r(r,i){const{vertNode:s,vertDummy:l,curveNode:h,curveDummy:c}=t;if(0===s&&0===h)throw new Error("node vertical weight or node curve weight needs to be positive");if(0===l&&0===c)throw new Error("dummy vertical weight or dummy curve weight needs to be positive");const f=function(t){const e=new a;for(const r of t.slice().reverse())for(const t of r){for(const r of t.ichildren())e.delete(r);e.set(t,t)}const r=new u([...e.values()]).split(),n=new a;for(const[t,e]of r.entries())for(const r of e)n.set(r,t);return n}(r),d=function(t,e){const r=[];let n=[],i=new Set;for(const s of t){const t=new Set(s.map((t=>e.getThrow(t))));o(i,t)||r.push(n=[]),n.push(s),i=t}return r}(r,f),p=d.map((t=>e(t,i,f))),v=Math.max(...p);if(v<=0)throw new Error("must assign nonzero width to at least one node");for(const[t,e]of d.entries()){const r=(v-p[t])/2;for(const t of e)for(const e of t)e.x=n(e.x)+r}return v}return r.vertical=function(e){if(void 0===e){const{vertNode:e,vertDummy:r}=t;return[e,r]}const[r,n]=e;if(r<0||n<0)throw new Error(`weights must be non-negative, but were ${r} and ${n}`);return P({...t,vertNode:r,vertDummy:n})},r.curve=function(e){if(void 0===e){const{curveNode:e,curveDummy:r}=t;return[e,r]}const[r,n]=e;if(r<0||n<0)throw new Error(`weights must be non-negative, but were ${r} and ${n}`);return P({...t,curveNode:r,curveDummy:n})},r.component=function(e){if(void 0===e)return t.comp;if(e<=0)throw new Error(`weight must be positive, but was ${e}`);return P({...t,comp:e})},r}function D(...t){if(t.length)throw new Error(`got arguments to quad(${t}), but constructor takes no aruguments.`);return P({vertNode:1,vertDummy:0,curveNode:0,curveDummy:1,comp:1})}function F(t,e,r,n){this.feasible=r,this.evaluation=e,this.bounded=n,this._tableau=t}var q=F;function L(t,e,r,n,o){q.call(this,t,e,r,n),this.iter=o}F.prototype.generateSolutionSet=function(){for(var t={},e=this._tableau,r=e.varIndexByRow,n=e.variablesPerIndex,o=e.matrix,i=e.rhsColumn,s=e.height-1,a=Math.round(1/e.precision),l=1;l<=s;l+=1){var h=n[r[l]];if(void 0!==h&&!0!==h.isSlack){var c=o[l][i];t[h.id]=Math.round((Number.EPSILON+c)*a)/a}}return t};var U=L;function H(t){this.model=null,this.matrix=null,this.width=0,this.height=0,this.costRowIndex=0,this.rhsColumn=0,this.variablesPerIndex=[],this.unrestrictedVars=null,this.feasible=!0,this.evaluation=0,this.simplexIters=0,this.varIndexByRow=null,this.varIndexByCol=null,this.rowByVarIndex=null,this.colByVarIndex=null,this.precision=t||1e-8,this.optionalObjectives=[],this.objectivesByPriority={},this.savedState=null,this.availableIndexes=[],this.lastElementIndex=0,this.variables=null,this.nVars=0,this.bounded=!0,this.unboundedVarIndex=null,this.branchAndCutIterations=0}L.prototype=Object.create(q.prototype),L.constructor=L;var W=H;function J(t,e){this.priority=t,this.reducedCosts=new Array(e);for(var r=0;r<e;r+=1)this.reducedCosts[r]=0}H.prototype.solve=function(){return this.model.getNumberOfIntegerVariables()>0?this.branchAndCut():this.simplex(),this.updateVariableValues(),this.getSolution()},J.prototype.copy=function(){var t=new J(this.priority,this.reducedCosts.length);return t.reducedCosts=this.reducedCosts.slice(),t},H.prototype.setOptionalObjective=function(t,e,r){var n=this.objectivesByPriority[t];void 0===n&&(n=new J(t,Math.max(this.width,e+1)),this.objectivesByPriority[t]=n,this.optionalObjectives.push(n),this.optionalObjectives.sort((function(t,e){return t.priority-e.priority})));n.reducedCosts[e]=r},H.prototype.initialize=function(t,e,r,n){this.variables=r,this.unrestrictedVars=n,this.width=t,this.height=e;for(var o=new Array(t),i=0;i<t;i++)o[i]=0;this.matrix=new Array(e);for(var s=0;s<e;s++)this.matrix[s]=o.slice();this.varIndexByRow=new Array(this.height),this.varIndexByCol=new Array(this.width),this.varIndexByRow[0]=-1,this.varIndexByCol[0]=-1,this.nVars=t+e-2,this.rowByVarIndex=new Array(this.nVars),this.colByVarIndex=new Array(this.nVars),this.lastElementIndex=this.nVars},H.prototype._resetMatrix=function(){var t,e,r=this.model.variables,n=this.model.constraints,o=r.length,i=n.length,s=this.matrix[0],a=!0===this.model.isMinimization?-1:1;for(t=0;t<o;t+=1){var l=r[t],h=l.priority,c=a*l.cost;0===h?s[t+1]=c:this.setOptionalObjective(h,t+1,c),e=r[t].index,this.rowByVarIndex[e]=-1,this.colByVarIndex[e]=t+1,this.varIndexByCol[t+1]=e}for(var u=1,f=0;f<i;f+=1){var d,p,v=n[f],m=v.index;this.rowByVarIndex[m]=u,this.colByVarIndex[m]=-1,this.varIndexByRow[u]=m;var g=v.terms,y=g.length,w=this.matrix[u++];if(v.isUpperBound){for(d=0;d<y;d+=1)p=g[d],w[this.colByVarIndex[p.variable.index]]=p.coefficient;w[0]=v.rhs}else{for(d=0;d<y;d+=1)p=g[d],w[this.colByVarIndex[p.variable.index]]=-p.coefficient;w[0]=-v.rhs}}},H.prototype.setModel=function(t){this.model=t;var e=t.nVariables+1,r=t.nConstraints+1;return this.initialize(e,r,t.variables,t.unrestrictedVariables),this._resetMatrix(),this},H.prototype.getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t},H.prototype.density=function(){for(var t=0,e=this.matrix,r=0;r<this.height;r++)for(var n=e[r],o=0;o<this.width;o++)0!==n[o]&&(t+=1);return t/(this.height*this.width)},H.prototype.setEvaluation=function(){var t=Math.round(1/this.precision),e=this.matrix[this.costRowIndex][this.rhsColumn],r=Math.round((Number.EPSILON+e)*t)/t;this.evaluation=r,0===this.simplexIters&&(this.bestPossibleEval=r)},H.prototype.getSolution=function(){var t=!0===this.model.isMinimization?this.evaluation:-this.evaluation;return this.model.getNumberOfIntegerVariables()>0?new U(this,t,this.feasible,this.bounded,this.branchAndCutIterations):new q(this,t,this.feasible,this.bounded)},W.prototype.simplex=function(){return this.bounded=!0,this.phase1(),!0===this.feasible&&this.phase2(),this},W.prototype.phase1=function(){for(var t=this.model.checkForCycles,e=[],r=this.matrix,n=this.rhsColumn,o=this.width-1,i=this.height-1,s=0;;){for(var a=0,l=-this.precision,h=1;h<=i;h++){!0===this.unrestrictedVars[this.varIndexByRow[h]];var c=r[h][n];c<l&&(l=c,a=h)}if(0===a)return this.feasible=!0,s;for(var u=0,f=-1/0,d=r[0],p=r[a],v=1;v<=o;v++){var m=p[v];if(!0===this.unrestrictedVars[this.varIndexByCol[v]]||m<-this.precision){var g=-d[v]/m;f<g&&(f=g,u=v)}}if(0===u)return this.feasible=!1,s;if(t){e.push([this.varIndexByRow[a],this.varIndexByCol[u]]);var y=this.checkForCycles(e);if(y.length>0)return this.model.messages.push("Cycle in phase 1"),this.model.messages.push("Start :"+y[0]),this.model.messages.push("Length :"+y[1]),this.feasible=!1,s}this.pivot(a,u),s+=1}},W.prototype.phase2=function(){for(var t,e,r=this.model.checkForCycles,n=[],o=this.matrix,i=this.rhsColumn,s=this.width-1,a=this.height-1,l=this.precision,h=this.optionalObjectives.length,c=null,u=0;;){var f=o[this.costRowIndex];h>0&&(c=[]);for(var d=0,p=l,v=!1,m=1;m<=s;m++)t=f[m],e=!0===this.unrestrictedVars[this.varIndexByCol[m]],h>0&&-l<t&&t<l?c.push(m):e&&t<0?-t>p&&(p=-t,d=m,v=!0):t>p&&(p=t,d=m,v=!1);if(h>0)for(var g=0;0===d&&c.length>0&&g<h;){var y=[],w=this.optionalObjectives[g].reducedCosts;p=l;for(var b=0;b<c.length;b++)t=w[m=c[b]],e=!0===this.unrestrictedVars[this.varIndexByCol[m]],-l<t&&t<l?y.push(m):e&&t<0?-t>p&&(p=-t,d=m,v=!0):t>p&&(p=t,d=m,v=!1);c=y,g+=1}if(0===d)return this.setEvaluation(),this.simplexIters+=1,u;var x=0,I=1/0;this.varIndexByRow;for(var M=1;M<=a;M++){var C=o[M],E=C[i],B=C[d];if(!(-l<B&&B<l)){if(B>0&&l>E&&E>-l){I=0,x=M;break}var V=v?-E/B:E/B;V>l&&I>V&&(I=V,x=M)}}if(I===1/0)return this.evaluation=-1/0,this.bounded=!1,this.unboundedVarIndex=this.varIndexByCol[d],u;if(r){n.push([this.varIndexByRow[x],this.varIndexByCol[d]]);var O=this.checkForCycles(n);if(O.length>0)return this.model.messages.push("Cycle in phase 2"),this.model.messages.push("Start :"+O[0]),this.model.messages.push("Length :"+O[1]),this.feasible=!1,u}this.pivot(x,d,!0),u+=1}};var G=[];function Z(t,e,r,n){this.id=t,this.cost=e,this.index=r,this.value=0,this.priority=n}function Q(t,e,r,n){Z.call(this,t,e,r,n)}function Y(t,e){Z.call(this,t,0,e,0)}function K(t,e){this.variable=t,this.coefficient=e}function X(t,e,r){return 0===r||"required"===r?null:(e=e||1,r=r||1,!1===t.isMinimization&&(e=-e),t.addVariable(e,"r"+t.relaxationIndex++,!1,!1,r))}function tt(t,e,r,n){this.slack=new Y("s"+r,r),this.index=r,this.model=n,this.rhs=t,this.isUpperBound=e,this.terms=[],this.termsByVarIndex={},this.relaxation=null}function et(t,e){this.upperBound=t,this.lowerBound=e,this.model=t.model,this.rhs=t.rhs,this.relaxation=null}W.prototype.pivot=function(t,e){var r=this.matrix,n=r[t][e],o=this.height-1,i=this.width-1,s=this.varIndexByRow[t],a=this.varIndexByCol[e];this.varIndexByRow[t]=a,this.varIndexByCol[e]=s,this.rowByVarIndex[a]=t,this.rowByVarIndex[s]=-1,this.colByVarIndex[a]=-1,this.colByVarIndex[s]=e;for(var l,h,c,u=r[t],f=0,d=0;d<=i;d++)u[d]>=-1e-16&&u[d]<=1e-16?u[d]=0:(u[d]/=n,G[f]=d,f+=1);u[e]=1/n,this.precision;for(var p=0;p<=o;p++)if(p!==t&&!(r[p][e]>=-1e-16&&r[p][e]<=1e-16)){var v=r[p];if((l=v[e])>=-1e-16&&l<=1e-16)0!==l&&(v[e]=0);else{for(h=0;h<f;h++)(c=u[d=G[h]])>=-1e-16&&c<=1e-16?0!==c&&(u[d]=0):v[d]=v[d]-l*c;v[e]=-l/n}}var m=this.optionalObjectives.length;if(m>0)for(var g=0;g<m;g+=1){var y=this.optionalObjectives[g].reducedCosts;if(0!==(l=y[e])){for(h=0;h<f;h++)0!==(c=u[d=G[h]])&&(y[d]=y[d]-l*c);y[e]=-l/n}}},W.prototype.checkForCycles=function(t){for(var e=0;e<t.length-1;e++)for(var r=e+1;r<t.length;r++){var n=t[e],o=t[r];if(n[0]===o[0]&&n[1]===o[1]){if(r-e>t.length-r)break;for(var i=!0,s=1;s<r-e;s++){var a=t[e+s],l=t[r+s];if(a[0]!==l[0]||a[1]!==l[1]){i=!1;break}}if(i)return[e,r-e]}}return[]},Q.prototype.isInteger=!0,Y.prototype.isSlack=!0,tt.prototype.addTerm=function(t,e){var r=e.index,n=this.termsByVarIndex[r];if(void 0===n)n=new K(e,t),this.termsByVarIndex[r]=n,this.terms.push(n),!0===this.isUpperBound&&(t=-t),this.model.updateConstraintCoefficient(this,e,t);else{var o=n.coefficient+t;this.setVariableCoefficient(o,e)}return this},tt.prototype.removeTerm=function(t){return this},tt.prototype.setRightHandSide=function(t){if(t!==this.rhs){var e=t-this.rhs;!0===this.isUpperBound&&(e=-e),this.rhs=t,this.model.updateRightHandSide(this,e)}return this},tt.prototype.setVariableCoefficient=function(t,e){var r=e.index;if(-1!==r){var n=this.termsByVarIndex[r];if(void 0===n)this.addTerm(t,e);else if(t!==n.coefficient){var o=t-n.coefficient;!0===this.isUpperBound&&(o=-o),n.coefficient=t,this.model.updateConstraintCoefficient(this,e,o)}return this}console.warn("[Constraint.setVariableCoefficient] Trying to change coefficient of inexistant variable.")},tt.prototype.relax=function(t,e){this.relaxation=X(this.model,t,e),this._relax(this.relaxation)},tt.prototype._relax=function(t){null!==t&&(this.isUpperBound?this.setVariableCoefficient(-1,t):this.setVariableCoefficient(1,t))},et.prototype.isEquality=!0,et.prototype.addTerm=function(t,e){return this.upperBound.addTerm(t,e),this.lowerBound.addTerm(t,e),this},et.prototype.removeTerm=function(t){return this.upperBound.removeTerm(t),this.lowerBound.removeTerm(t),this},et.prototype.setRightHandSide=function(t){this.upperBound.setRightHandSide(t),this.lowerBound.setRightHandSide(t),this.rhs=t},et.prototype.relax=function(t,e){this.relaxation=X(this.model,t,e),this.upperBound.relaxation=this.relaxation,this.upperBound._relax(this.relaxation),this.lowerBound.relaxation=this.relaxation,this.lowerBound._relax(this.relaxation)};var rt={Constraint:tt,Variable:Z,IntegerVariable:Q,SlackVariable:Y,Equality:et,Term:K},nt=rt.SlackVariable;function ot(t,e){this.index=t,this.value=e}W.prototype.addCutConstraints=function(t){for(var e,r=t.length,n=this.height,o=n+r,i=n;i<o;i+=1)void 0===this.matrix[i]&&(this.matrix[i]=this.matrix[i-1].slice());this.height=o,this.nVars=this.width+this.height-2;for(var s=this.width-1,a=0;a<r;a+=1){var l=t[a],h=n+a,c="min"===l.type?-1:1,u=l.varIndex,f=this.rowByVarIndex[u],d=this.matrix[h];if(-1===f){for(d[this.rhsColumn]=c*l.value,e=1;e<=s;e+=1)d[e]=0;d[this.colByVarIndex[u]]=c}else{var p=this.matrix[f],v=p[this.rhsColumn];for(d[this.rhsColumn]=c*(l.value-v),e=1;e<=s;e+=1)d[e]=-c*p[e]}var m=this.getNewElementIndex();this.varIndexByRow[h]=m,this.rowByVarIndex[m]=h,this.colByVarIndex[m]=-1,this.variablesPerIndex[m]=new nt("s"+m,m),this.nVars+=1}},W.prototype._addLowerBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;this.model;var e=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[t]].isInteger)return!1;var r=e[t][this.rhsColumn],n=r-Math.floor(r);if(n<this.precision||1-this.precision<n)return!1;var o=this.height;e[o]=e[o-1].slice(),this.height+=1,this.nVars+=1;var i=this.getNewElementIndex();this.varIndexByRow[o]=i,this.rowByVarIndex[i]=o,this.colByVarIndex[i]=-1,this.variablesPerIndex[i]=new nt("s"+i,i),e[o][this.rhsColumn]=Math.floor(r);for(var s=1;s<this.varIndexByCol.length;s+=1){if(this.variablesPerIndex[this.varIndexByCol[s]].isInteger){var a=e[t][s],l=Math.floor(a)+Math.max(0,a-Math.floor(a)-n)/(1-n);e[o][s]=l}else e[o][s]=Math.min(0,e[t][s]/(1-n))}for(var h=0;h<this.width;h+=1)e[o][h]-=e[t][h];return!0},W.prototype._addUpperBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;this.model;var e=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[t]].isInteger)return!1;var r=e[t][this.rhsColumn],n=r-Math.floor(r);if(n<this.precision||1-this.precision<n)return!1;var o=this.height;e[o]=e[o-1].slice(),this.height+=1,this.nVars+=1;var i=this.getNewElementIndex();this.varIndexByRow[o]=i,this.rowByVarIndex[i]=o,this.colByVarIndex[i]=-1,this.variablesPerIndex[i]=new nt("s"+i,i),e[o][this.rhsColumn]=-n;for(var s=1;s<this.varIndexByCol.length;s+=1){var a=this.variablesPerIndex[this.varIndexByCol[s]],l=e[t][s],h=l-Math.floor(l);a.isInteger?e[o][s]=h<=n?-h:-(1-h)*n/h:e[o][s]=l>=0?-l:l*n/(1-n)}return!0},W.prototype.applyMIRCuts=function(){},W.prototype._putInBase=function(t){var e=this.rowByVarIndex[t];if(-1===e){for(var r=this.colByVarIndex[t],n=1;n<this.height;n+=1){var o=this.matrix[n][r];if(o<-this.precision||this.precision<o){e=n;break}}this.pivot(e,r)}return e},W.prototype._takeOutOfBase=function(t){var e=this.colByVarIndex[t];if(-1===e){for(var r=this.rowByVarIndex[t],n=this.matrix[r],o=1;o<this.height;o+=1){var i=n[o];if(i<-this.precision||this.precision<i){e=o;break}}this.pivot(r,e)}return e},W.prototype.updateVariableValues=function(){for(var t=this.variables.length,e=Math.round(1/this.precision),r=0;r<t;r+=1){var n=this.variables[r],o=n.index,i=this.rowByVarIndex[o];if(-1===i)n.value=0;else{var s=this.matrix[i][this.rhsColumn];n.value=Math.round((s+Number.EPSILON)*e)/e}}},W.prototype.updateRightHandSide=function(t,e){var r=this.height-1,n=this.rowByVarIndex[t.index];if(-1===n){for(var o=this.colByVarIndex[t.index],i=0;i<=r;i+=1){var s=this.matrix[i];s[this.rhsColumn]-=e*s[o]}var a=this.optionalObjectives.length;if(a>0)for(var l=0;l<a;l+=1){var h=this.optionalObjectives[l].reducedCosts;h[this.rhsColumn]-=e*h[o]}}else this.matrix[n][this.rhsColumn]-=e},W.prototype.updateConstraintCoefficient=function(t,e,r){if(t.index===e.index)throw new Error("[Tableau.updateConstraintCoefficient] constraint index should not be equal to variable index !");var n=this._putInBase(t.index),o=this.colByVarIndex[e.index];if(-1===o)for(var i=this.rowByVarIndex[e.index],s=0;s<this.width;s+=1)this.matrix[n][s]+=r*this.matrix[i][s];else this.matrix[n][o]-=r},W.prototype.updateCost=function(t,e){var r=t.index,n=this.width-1,o=this.colByVarIndex[r];if(-1===o){var i,s=this.matrix[this.rowByVarIndex[r]];if(0===t.priority){var a=this.matrix[0];for(i=0;i<=n;i+=1)a[i]+=e*s[i]}else{var l=this.objectivesByPriority[t.priority].reducedCosts;for(i=0;i<=n;i+=1)l[i]+=e*s[i]}}else this.matrix[0][o]-=e},W.prototype.addConstraint=function(t){var e=t.isUpperBound?1:-1,r=this.height,n=this.matrix[r];void 0===n&&(n=this.matrix[0].slice(),this.matrix[r]=n);for(var o=this.width-1,i=0;i<=o;i+=1)n[i]=0;n[this.rhsColumn]=e*t.rhs;for(var s=t.terms,a=s.length,l=0;l<a;l+=1){var h=s[l],c=h.coefficient,u=h.variable.index,f=this.rowByVarIndex[u];if(-1===f)n[this.colByVarIndex[u]]+=e*c;else{var d=this.matrix[f];for(d[this.rhsColumn],i=0;i<=o;i+=1)n[i]-=e*c*d[i]}}var p=t.index;this.varIndexByRow[r]=p,this.rowByVarIndex[p]=r,this.colByVarIndex[p]=-1,this.height+=1},W.prototype.removeConstraint=function(t){var e=t.index,r=this.height-1,n=this._putInBase(e),o=this.matrix[r];this.matrix[r]=this.matrix[n],this.matrix[n]=o,this.varIndexByRow[n]=this.varIndexByRow[r],this.varIndexByRow[r]=-1,this.rowByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.slack.index=-1,this.height-=1},W.prototype.addVariable=function(t){var e=this.height-1,r=this.width,n=!0===this.model.isMinimization?-t.cost:t.cost,o=t.priority,i=this.optionalObjectives.length;if(i>0)for(var s=0;s<i;s+=1)this.optionalObjectives[s].reducedCosts[r]=0;0===o?this.matrix[0][r]=n:(this.setOptionalObjective(o,r,n),this.matrix[0][r]=0);for(var a=1;a<=e;a+=1)this.matrix[a][r]=0;var l=t.index;this.varIndexByCol[r]=l,this.rowByVarIndex[l]=-1,this.colByVarIndex[l]=r,this.width+=1},W.prototype.removeVariable=function(t){var e=t.index,r=this._takeOutOfBase(e),n=this.width-1;if(r!==n){for(var o=this.height-1,i=0;i<=o;i+=1){var s=this.matrix[i];s[r]=s[n]}var a=this.optionalObjectives.length;if(a>0)for(var l=0;l<a;l+=1){var h=this.optionalObjectives[l].reducedCosts;h[r]=h[n]}var c=this.varIndexByCol[n];this.varIndexByCol[r]=c,this.colByVarIndex[c]=r}this.varIndexByCol[n]=-1,this.colByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.index=-1,this.width-=1},W.prototype.log=function(t,e){console.log("****",t,"****"),console.log("Nb Variables",this.width-1),console.log("Nb Constraints",this.height-1),console.log("Basic Indexes",this.varIndexByRow),console.log("Non Basic Indexes",this.varIndexByCol),console.log("Rows",this.rowByVarIndex),console.log("Cols",this.colByVarIndex);var r,n,o,i,s,a,l,h,c,u,f="",d=[" "];for(n=1;n<this.width;n+=1)s=this.varIndexByCol[n],l=" ",h="\t",(a=void 0===(i=this.variablesPerIndex[s])?"c"+s:i.id).length>5?l+=" ":h+="\t",d[n]=l,f+=h+a;console.log(f);var p=this.matrix[this.costRowIndex],v="\t";for(r=1;r<this.width;r+=1)v+="\t",v+=d[r],v+=p[r].toFixed(5);for(v+="\t"+d[0]+p[0].toFixed(5),console.log(v+"\tZ"),o=1;o<this.height;o+=1){for(c=this.matrix[o],u="\t",n=1;n<this.width;n+=1)u+="\t"+d[n]+c[n].toFixed(5);u+="\t"+d[0]+c[0].toFixed(5),s=this.varIndexByRow[o],a=void 0===(i=this.variablesPerIndex[s])?"c"+s:i.id,console.log(u+"\t"+a)}console.log("");var m=this.optionalObjectives.length;if(m>0){console.log("    Optional objectives:");for(var g=0;g<m;g+=1){var y=this.optionalObjectives[g].reducedCosts,w="";for(r=1;r<this.width;r+=1)w+=y[r]<0?"":" ",w+=d[r],w+=y[r].toFixed(5);w+=(y[0]<0?"":" ")+d[0]+y[0].toFixed(5),console.log(w+" z"+g)}}return console.log("Feasible?",this.feasible),console.log("evaluation",this.evaluation),this},W.prototype.copy=function(){var t=new W(this.precision);t.width=this.width,t.height=this.height,t.nVars=this.nVars,t.model=this.model,t.variables=this.variables,t.variablesPerIndex=this.variablesPerIndex,t.unrestrictedVars=this.unrestrictedVars,t.lastElementIndex=this.lastElementIndex,t.varIndexByRow=this.varIndexByRow.slice(),t.varIndexByCol=this.varIndexByCol.slice(),t.rowByVarIndex=this.rowByVarIndex.slice(),t.colByVarIndex=this.colByVarIndex.slice(),t.availableIndexes=this.availableIndexes.slice();for(var e=[],r=0;r<this.optionalObjectives.length;r++)e[r]=this.optionalObjectives[r].copy();t.optionalObjectives=e;for(var n=this.matrix,o=new Array(this.height),i=0;i<this.height;i++)o[i]=n[i].slice();return t.matrix=o,t},W.prototype.save=function(){this.savedState=this.copy()},W.prototype.restore=function(){if(null!==this.savedState){var t,e,r=this.savedState,n=r.matrix;for(this.nVars=r.nVars,this.model=r.model,this.variables=r.variables,this.variablesPerIndex=r.variablesPerIndex,this.unrestrictedVars=r.unrestrictedVars,this.lastElementIndex=r.lastElementIndex,this.width=r.width,this.height=r.height,t=0;t<this.height;t+=1){var o=n[t],i=this.matrix[t];for(e=0;e<this.width;e+=1)i[e]=o[e]}var s=r.varIndexByRow;for(e=0;e<this.height;e+=1)this.varIndexByRow[e]=s[e];for(;this.varIndexByRow.length>this.height;)this.varIndexByRow.pop();var a=r.varIndexByCol;for(t=0;t<this.width;t+=1)this.varIndexByCol[t]=a[t];for(;this.varIndexByCol.length>this.width;)this.varIndexByCol.pop();for(var l=r.rowByVarIndex,h=r.colByVarIndex,c=0;c<this.nVars;c+=1)this.rowByVarIndex[c]=l[c],this.colByVarIndex[c]=h[c];if(r.optionalObjectives.length>0&&this.optionalObjectives.length>0){this.optionalObjectives=[],this.optionalObjectivePerPriority={};for(var u=0;u<r.optionalObjectives.length;u++){var f=r.optionalObjectives[u].copy();this.optionalObjectives[u]=f,this.optionalObjectivePerPriority[f.priority]=f}}}},W.prototype.getMostFractionalVar=function(){for(var t=0,e=null,r=null,n=this.model.integerVariables,o=n.length,i=0;i<o;i++){var s=n[i].index,a=this.rowByVarIndex[s];if(-1!==a){var l=this.matrix[a][this.rhsColumn],h=Math.abs(l-Math.round(l));t<h&&(t=h,e=s,r=l)}}return new ot(e,r)},W.prototype.getFractionalVarWithLowestCost=function(){for(var t=1/0,e=null,r=null,n=this.model.integerVariables,o=n.length,i=0;i<o;i++){var s=n[i],a=s.index,l=this.rowByVarIndex[a];if(-1!==l){var h=this.matrix[l][this.rhsColumn];if(Math.abs(h-Math.round(h))>this.precision){var c=s.cost;t>c&&(t=c,e=a,r=h)}}}return new ot(e,r)},W.prototype.countIntegerValues=function(){for(var t=0,e=1;e<this.height;e+=1)if(this.variablesPerIndex[this.varIndexByRow[e]].isInteger){var r=this.matrix[e][this.rhsColumn];(r-=Math.floor(r))<this.precision&&-r<this.precision&&(t+=1)}return t},W.prototype.isIntegral=function(){for(var t=this.model.integerVariables,e=t.length,r=0;r<e;r++){var n=this.rowByVarIndex[t[r].index];if(-1!==n){var o=this.matrix[n][this.rhsColumn];if(Math.abs(o-Math.round(o))>this.precision)return!1}}return!0},W.prototype.computeFractionalVolume=function(t){for(var e=-1,r=1;r<this.height;r+=1)if(this.variablesPerIndex[this.varIndexByRow[r]].isInteger){var n=this.matrix[r][this.rhsColumn];if(n=Math.abs(n),Math.min(n-Math.floor(n),Math.floor(n+1))<this.precision){if(!t)return 0}else-1===e?e=n:e*=n}return-1===e?0:e};var it=W;function st(t,e,r){this.type=t,this.varIndex=e,this.value=r}function at(t,e){this.relaxedEvaluation=t,this.cuts=e}function lt(t,e){return e.relaxedEvaluation-t.relaxedEvaluation}W.prototype.applyCuts=function(t){if(this.restore(),this.addCutConstraints(t),this.simplex(),this.model.useMIRCuts)for(var e=!0;e;){var r=this.computeFractionalVolume(!0);this.applyMIRCuts(),this.simplex(),this.computeFractionalVolume(!0)>=.9*r&&(e=!1)}},W.prototype.branchAndCut=function(){var t=[],e=0,r=this.model.tolerance,n=!0,o=1e99;this.model.timeout&&(o=Date.now()+this.model.timeout);for(var i=1/0,s=null,a=[],l=0;l<this.optionalObjectives.length;l+=1)a.push(1/0);var h,c=new at(-1/0,[]);for(t.push(c);t.length>0&&!0===n&&Date.now()<o;)if(h=this.model.isMinimization?this.bestPossibleEval*(1+r):this.bestPossibleEval*(1-r),r>0&&i<h&&(n=!1),!((c=t.pop()).relaxedEvaluation>i)){var u=c.cuts;if(this.applyCuts(u),e++,!1!==this.feasible){var f=this.evaluation;if(!(f>i)){if(f===i){for(var d=!0,p=0;p<this.optionalObjectives.length&&!(this.optionalObjectives[p].reducedCosts[0]>a[p]);p+=1)if(this.optionalObjectives[p].reducedCosts[0]<a[p]){d=!1;break}if(d)continue}if(!0===this.isIntegral()){if(this.__isIntegral=!0,1===e)return void(this.branchAndCutIterations=e);s=c,i=f;for(var v=0;v<this.optionalObjectives.length;v+=1)a[v]=this.optionalObjectives[v].reducedCosts[0]}else{1===e&&this.save();for(var m=this.getMostFractionalVar(),g=m.index,y=[],w=[],b=u.length,x=0;x<b;x+=1){var I=u[x];I.varIndex===g?"min"===I.type?w.push(I):y.push(I):(y.push(I),w.push(I))}var M=Math.ceil(m.value),C=Math.floor(m.value),E=new st("min",g,M);y.push(E);var B=new st("max",g,C);w.push(B),t.push(new at(f,y)),t.push(new at(f,w)),t.sort(lt)}}}}null!==s&&this.applyCuts(s.cuts),this.branchAndCutIterations=e};var ht={},ct=rt.Constraint,ut=rt.Equality,ft=rt.Variable,dt=rt.IntegerVariable;function pt(t,e){this.tableau=new W(t),this.name=e,this.variables=[],this.integerVariables=[],this.unrestrictedVariables={},this.constraints=[],this.nConstraints=0,this.nVariables=0,this.isMinimization=!0,this.tableauInitialized=!1,this.relaxationIndex=1,this.useMIRCuts=!1,this.checkForCycles=!0,this.messages=[]}var vt=pt;pt.prototype.minimize=function(){return this.isMinimization=!0,this},pt.prototype.maximize=function(){return this.isMinimization=!1,this},pt.prototype._getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t},pt.prototype._addConstraint=function(t){var e=t.slack;this.tableau.variablesPerIndex[e.index]=e,this.constraints.push(t),this.nConstraints+=1,!0===this.tableauInitialized&&this.tableau.addConstraint(t)},pt.prototype.smallerThan=function(t){var e=new ct(t,!0,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e},pt.prototype.greaterThan=function(t){var e=new ct(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e},pt.prototype.equal=function(t){var e=new ct(t,!0,this.tableau.getNewElementIndex(),this);this._addConstraint(e);var r=new ct(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(r),new ut(e,r)},pt.prototype.addVariable=function(t,e,r,n,o){if("string"==typeof o)switch(o){case"required":o=0;break;case"strong":o=1;break;case"medium":o=2;break;case"weak":o=3;break;default:o=0}var i,s=this.tableau.getNewElementIndex();return null==e&&(e="v"+s),null==t&&(t=0),null==o&&(o=0),r?(i=new dt(e,t,s,o),this.integerVariables.push(i)):i=new ft(e,t,s,o),this.variables.push(i),this.tableau.variablesPerIndex[s]=i,n&&(this.unrestrictedVariables[s]=!0),this.nVariables+=1,!0===this.tableauInitialized&&this.tableau.addVariable(i),i},pt.prototype._removeConstraint=function(t){var e=this.constraints.indexOf(t);-1!==e?(this.constraints.splice(e,1),this.nConstraints-=1,!0===this.tableauInitialized&&this.tableau.removeConstraint(t),t.relaxation&&this.removeVariable(t.relaxation)):console.warn("[Model.removeConstraint] Constraint not present in model")},pt.prototype.removeConstraint=function(t){return t.isEquality?(this._removeConstraint(t.upperBound),this._removeConstraint(t.lowerBound)):this._removeConstraint(t),this},pt.prototype.removeVariable=function(t){var e=this.variables.indexOf(t);if(-1!==e)return this.variables.splice(e,1),!0===this.tableauInitialized&&this.tableau.removeVariable(t),this;console.warn("[Model.removeVariable] Variable not present in model")},pt.prototype.updateRightHandSide=function(t,e){return!0===this.tableauInitialized&&this.tableau.updateRightHandSide(t,e),this},pt.prototype.updateConstraintCoefficient=function(t,e,r){return!0===this.tableauInitialized&&this.tableau.updateConstraintCoefficient(t,e,r),this},pt.prototype.setCost=function(t,e){var r=t-e.cost;return!1===this.isMinimization&&(r=-r),e.cost=t,this.tableau.updateCost(e,r),this},pt.prototype.loadJson=function(t){this.isMinimization="max"!==t.opType;for(var e=t.variables,r=t.constraints,n={},o={},i=Object.keys(r),s=i.length,a=0;a<s;a+=1){var l,h,c=i[a],u=r[c],f=u.equal,d=u.weight,p=u.priority,v=void 0!==d||void 0!==p;if(void 0===f){var m=u.min;void 0!==m&&(l=this.greaterThan(m),n[c]=l,v&&l.relax(d,p));var g=u.max;void 0!==g&&(h=this.smallerThan(g),o[c]=h,v&&h.relax(d,p))}else{l=this.greaterThan(f),n[c]=l,h=this.smallerThan(f),o[c]=h;var y=new ut(l,h);v&&y.relax(d,p)}}var w=Object.keys(e),b=w.length;this.tolerance=t.tolerance||0,t.timeout&&(this.timeout=t.timeout),t.options&&(t.options.timeout&&(this.timeout=t.options.timeout),0===this.tolerance&&(this.tolerance=t.options.tolerance||0),t.options.useMIRCuts&&(this.useMIRCuts=t.options.useMIRCuts),void 0===t.options.exitOnCycles?this.checkForCycles=!0:this.checkForCycles=t.options.exitOnCycles);for(var x=t.ints||{},I=t.binaries||{},M=t.unrestricted||{},C=t.optimize,E=0;E<b;E+=1){var B=w[E],V=e[B],O=V[C]||0,k=!!I[B],z=!!x[B]||k,j=!!M[B],S=this.addVariable(O,B,z,j);k&&this.smallerThan(1).addTerm(1,S);var T=Object.keys(V);for(a=0;a<T.length;a+=1){var _=T[a];if(_!==C){var $=V[_],R=n[_];void 0!==R&&R.addTerm($,S);var A=o[_];void 0!==A&&A.addTerm($,S)}}}return this},pt.prototype.getNumberOfIntegerVariables=function(){return this.integerVariables.length},pt.prototype.solve=function(){return!1===this.tableauInitialized&&(this.tableau.setModel(this),this.tableauInitialized=!0),this.tableau.solve()},pt.prototype.isFeasible=function(){return this.tableau.feasible},pt.prototype.save=function(){return this.tableau.save()},pt.prototype.restore=function(){return this.tableau.restore()},pt.prototype.activateMIRCuts=function(t){this.useMIRCuts=t},pt.prototype.debug=function(t){this.checkForCycles=t},pt.prototype.log=function(t){return this.tableau.log(t)};var mt={CleanObjectiveAttributes:function(t){var e,r,n;if("string"==typeof t.optimize){if(t.constraints[t.optimize]){for(r in e=Math.random(),t.variables)t.variables[r][t.optimize]&&(t.variables[r][e]=t.variables[r][t.optimize]);return t.constraints[e]=t.constraints[t.optimize],delete t.constraints[t.optimize],t}return t}for(n in t.optimize)if(t.constraints[n])if("equal"===t.constraints[n])delete t.optimize[n];else{for(r in e=Math.random(),t.variables)t.variables[r][n]&&(t.variables[r][e]=t.variables[r][n]);t.constraints[e]=t.constraints[n],delete t.constraints[n]}return t}};var gt=function(t){return t.length?function(t){var e={is_blank:/^\W{0,}$/,is_objective:/(max|min)(imize){0,}\:/i,is_int:/^(?!\/\*)\W{0,}int/i,is_bin:/^(?!\/\*)\W{0,}bin/i,is_constraint:/(\>|\<){0,}\=/i,is_unrestricted:/^\S{0,}unrestricted/i,parse_lhs:/(\-|\+){0,1}\s{0,1}\d{0,}\.{0,}\d{0,}\s{0,}[A-Za-z]\S{0,}/gi,parse_rhs:/(\-|\+){0,1}\d{1,}\.{0,}\d{0,}\W{0,}\;{0,1}$/i,parse_dir:/(\>|\<){0,}\=/gi,parse_int:/[^\s|^\,]+/gi,parse_bin:/[^\s|^\,]+/gi,get_num:/(\-|\+){0,1}(\W|^)\d+\.{0,1}\d{0,}/g,get_word:/[A-Za-z].*/},r={opType:"",optimize:"_obj",constraints:{},variables:{}},n={">=":"min","<=":"max","=":"equal"},o="",i=null,s="",a="",l="",h=0;"string"==typeof t&&(t=t.split("\n"));for(var c=0;c<t.length;c++)if(l="__"+c,o=t[c],i=null,e.is_objective.test(o))r.opType=o.match(/(max|min)/gi)[0],(i=o.match(e.parse_lhs).map((function(t){return t.replace(/\s+/,"")})).slice(1)).forEach((function(t){s=null===(s=t.match(e.get_num))?"-"===t.substr(0,1)?-1:1:s[0],s=parseFloat(s),a=t.match(e.get_word)[0].replace(/\;$/,""),r.variables[a]=r.variables[a]||{},r.variables[a]._obj=s}));else if(e.is_int.test(o))i=o.match(e.parse_int).slice(1),r.ints=r.ints||{},i.forEach((function(t){t=t.replace(";",""),r.ints[t]=1}));else if(e.is_bin.test(o))i=o.match(e.parse_bin).slice(1),r.binaries=r.binaries||{},i.forEach((function(t){t=t.replace(";",""),r.binaries[t]=1}));else if(e.is_constraint.test(o)){var u=o.indexOf(":");(i=(-1===u?o:o.slice(u+1)).match(e.parse_lhs).map((function(t){return t.replace(/\s+/,"")}))).forEach((function(t){s=null===(s=t.match(e.get_num))?"-"===t.substr(0,1)?-1:1:s[0],s=parseFloat(s),a=t.match(e.get_word)[0],r.variables[a]=r.variables[a]||{},r.variables[a][l]=s})),h=parseFloat(o.match(e.parse_rhs)[0]),o=n[o.match(e.parse_dir)[0]],r.constraints[l]=r.constraints[l]||{},r.constraints[l][o]=h}else e.is_unrestricted.test(o)&&(i=o.match(e.parse_int).slice(1),r.unrestricted=r.unrestricted||{},i.forEach((function(t){t=t.replace(";",""),r.unrestricted[t]=1})));return r}(t):function(t){if(!t)throw new Error("Solver requires a model to operate on");var e="",r={max:"<=",min:">=",equal:"="},n=new RegExp("[^A-Za-z0-9_[{}/.&#$%~'@^]","gi");if(t.opType)for(var o in e+=t.opType+":",t.variables)t.variables[o][o]=t.variables[o][o]?t.variables[o][o]:1,t.variables[o][t.optimize]&&(e+=" "+t.variables[o][t.optimize]+" "+o.replace(n,"_"));else e+="max:";for(var i in e+=";\n\n",t.constraints)for(var s in t.constraints[i])if(void 0!==r[s]){for(var a in t.variables)void 0!==t.variables[a][i]&&(e+=" "+t.variables[a][i]+" "+a.replace(n,"_"));e+=" "+r[s]+" "+t.constraints[i][s],e+=";\n"}if(t.ints)for(var l in e+="\n\n",t.ints)e+="int "+l.replace(n,"_")+";\n";if(t.unrestricted)for(var h in e+="\n\n",t.unrestricted)e+="unrestricted "+h.replace(n,"_")+";\n";return e}(t)};function yt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function wt(t){let e=t,r=t;function n(t,e,n,o){for(null==n&&(n=0),null==o&&(o=t.length);n<o;){const i=n+o>>>1;r(t[i],e)<0?n=i+1:o=i}return n}return 1===t.length&&(e=(e,r)=>t(e)-r,r=function(t){return(e,r)=>yt(t(e),r)}(t)),{left:n,center:function(t,r,o,i){null==o&&(o=0),null==i&&(i=t.length);const s=n(t,r,o,i-1);return s>o&&e(t[s-1],r)>-e(t[s],r)?s-1:s},right:function(t,e,n,o){for(null==n&&(n=0),null==o&&(o=t.length);n<o;){const i=n+o>>>1;r(t[i],e)>0?o=i:n=i+1}return n}}}function bt(t){return null===t?NaN:+t}const xt=wt(yt),It=xt.right,Mt=xt.left,Ct=wt(bt).center;function Et(t,e){let r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++r;else{let n=-1;for(let o of t)null!=(o=e(o,++n,t))&&(o=+o)>=o&&++r}return r}function Bt(t){return 0|t.length}function Vt(t){return!(t>0)}function Ot(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function kt(t,e){let r,n=0,o=0,i=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(r=e-o,o+=r/++n,i+=r*(e-o));else{let s=-1;for(let a of t)null!=(a=e(a,++s,t))&&(a=+a)>=a&&(r=a-o,o+=r/++n,i+=r*(a-o))}if(n>1)return i/(n-1)}function zt(t,e){const r=kt(t,e);return r?Math.sqrt(r):r}function jt(t,e){let r,n;if(void 0===e)for(const e of t)null!=e&&(void 0===r?e>=e&&(r=n=e):(r>e&&(r=e),n<e&&(n=e)));else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(void 0===r?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)))}return[r,n]}class St{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let r=0;for(let n=0;n<this._n&&n<32;n++){const o=e[n],i=t+o,s=Math.abs(t)<Math.abs(o)?t-(i-o):o-(i-t);s&&(e[r++]=s),t=i}return e[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let e,r,n,o=this._n,i=0;if(o>0){for(i=t[--o];o>0&&(e=i,r=t[--o],i=e+r,n=r-(i-e),!n););o>0&&(n<0&&t[o-1]<0||n>0&&t[o-1]>0)&&(r=2*n,e=i+r,r==e-i&&(i=e))}return i}}class Tt extends Map{constructor(t,e=Nt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,r]of t)this.set(e,r)}get(t){return super.get($t(this,t))}has(t){return super.has($t(this,t))}set(t,e){return super.set(Rt(this,t),e)}delete(t){return super.delete(At(this,t))}}class _t extends Set{constructor(t,e=Nt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has($t(this,t))}add(t){return super.add(Rt(this,t))}delete(t){return super.delete(At(this,t))}}function $t({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Rt({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function At({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(r),t.delete(n)),r}function Nt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Pt(t){return t}function Dt(t,...e){return Lt(t,Pt,Pt,e)}function Ft(t,e,...r){return Lt(t,Pt,e,r)}function qt(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function Lt(t,e,r,n){return function t(o,i){if(i>=n.length)return r(o);const s=new Tt,a=n[i++];let l=-1;for(const t of o){const e=a(t,++l,o),r=s.get(e);r?r.push(t):s.set(e,[t])}for(const[e,r]of s)s.set(e,t(r,i));return e(s)}(t,0)}function Ut(t,e){return Array.from(e,(e=>t[e]))}function Ht(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[r=yt]=e;if(1===r.length||e.length>1){const n=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),n.sort(((t,r)=>{for(const n of e){const e=yt(n[t],n[r]);if(e)return e}}))):(r=t.map(r),n.sort(((t,e)=>yt(r[t],r[e])))),Ut(t,n)}return t.sort(r)}var Wt=Array.prototype.slice;function Jt(t){return function(){return t}}var Gt=Math.sqrt(50),Zt=Math.sqrt(10),Qt=Math.sqrt(2);function Yt(t,e,r){var n,o,i,s,a=-1;if(r=+r,(t=+t)===(e=+e)&&r>0)return[t];if((n=e<t)&&(o=t,t=e,e=o),0===(s=Kt(t,e,r))||!isFinite(s))return[];if(s>0){let r=Math.round(t/s),n=Math.round(e/s);for(r*s<t&&++r,n*s>e&&--n,i=new Array(o=n-r+1);++a<o;)i[a]=(r+a)*s}else{s=-s;let r=Math.round(t*s),n=Math.round(e*s);for(r/s<t&&++r,n/s>e&&--n,i=new Array(o=n-r+1);++a<o;)i[a]=(r+a)/s}return n&&i.reverse(),i}function Kt(t,e,r){var n=(e-t)/Math.max(0,r),o=Math.floor(Math.log(n)/Math.LN10),i=n/Math.pow(10,o);return o>=0?(i>=Gt?10:i>=Zt?5:i>=Qt?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Gt?10:i>=Zt?5:i>=Qt?2:1)}function Xt(t,e,r){let n;for(;;){const o=Kt(t,e,r);if(o===n||0===o||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),n=o}}function te(t){return Math.ceil(Math.log(Et(t))/Math.LN2)+1}function ee(){var t=Pt,e=jt,r=te;function n(n){Array.isArray(n)||(n=Array.from(n));var o,i,s=n.length,a=new Array(s);for(o=0;o<s;++o)a[o]=t(n[o],o,n);var l=e(a),h=l[0],c=l[1],u=r(a,h,c);if(!Array.isArray(u)){const t=c,r=+u;if(e===jt&&([h,c]=Xt(h,c,r)),(u=Yt(h,c,r))[u.length-1]>=c)if(t>=c&&e===jt){const t=Kt(h,c,r);isFinite(t)&&(t>0?c=(Math.floor(c/t)+1)*t:t<0&&(c=(Math.ceil(c*-t)+1)/-t))}else u.pop()}for(var f=u.length;u[0]<=h;)u.shift(),--f;for(;u[f-1]>c;)u.pop(),--f;var d,p=new Array(f+1);for(o=0;o<=f;++o)(d=p[o]=[]).x0=o>0?u[o-1]:h,d.x1=o<f?u[o]:c;for(o=0;o<s;++o)h<=(i=a[o])&&i<=c&&p[It(u,i,0,f)].push(n[o]);return p}return n.value=function(e){return arguments.length?(t="function"==typeof e?e:Jt(e),n):t},n.domain=function(t){return arguments.length?(e="function"==typeof t?t:Jt([t[0],t[1]]),n):e},n.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:Array.isArray(t)?Jt(Wt.call(t)):Jt(t),n):r},n}function re(t,e){let r;if(void 0===e)for(const e of t)null!=e&&(r<e||void 0===r&&e>=e)&&(r=e);else{let n=-1;for(let o of t)null!=(o=e(o,++n,t))&&(r<o||void 0===r&&o>=o)&&(r=o)}return r}function ne(t,e){let r;if(void 0===e)for(const e of t)null!=e&&(r>e||void 0===r&&e>=e)&&(r=e);else{let n=-1;for(let o of t)null!=(o=e(o,++n,t))&&(r>o||void 0===r&&o>=o)&&(r=o)}return r}function oe(t,e,r=0,n=t.length-1,o=yt){for(;n>r;){if(n-r>600){const i=n-r+1,s=e-r+1,a=Math.log(i),l=.5*Math.exp(2*a/3),h=.5*Math.sqrt(a*l*(i-l)/i)*(s-i/2<0?-1:1);oe(t,e,Math.max(r,Math.floor(e-s*l/i+h)),Math.min(n,Math.floor(e+(i-s)*l/i+h)),o)}const i=t[e];let s=r,a=n;for(ie(t,r,e),o(t[n],i)>0&&ie(t,r,n);s<a;){for(ie(t,s,a),++s,--a;o(t[s],i)<0;)++s;for(;o(t[a],i)>0;)--a}0===o(t[r],i)?ie(t,r,a):(++a,ie(t,a,n)),a<=e&&(r=a+1),e<=a&&(n=a-1)}return t}function ie(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function se(t,e,r){if(n=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let r=-1;for(let n of t)null!=(n=e(n,++r,t))&&(n=+n)>=n&&(yield n)}}(t,r))).length){if((e=+e)<=0||n<2)return ne(t);if(e>=1)return re(t);var n,o=(n-1)*e,i=Math.floor(o),s=re(oe(t,i).subarray(0,i+1));return s+(ne(t.subarray(i+1))-s)*(o-i)}}function ae(t,e){let r,n=-1,o=-1;if(void 0===e)for(const e of t)++o,null!=e&&(r<e||void 0===r&&e>=e)&&(r=e,n=o);else for(let i of t)null!=(i=e(i,++o,t))&&(r<i||void 0===r&&i>=i)&&(r=i,n=o);return n}function le(t,e){return se(t,.5,e)}function he(t,e){let r,n=-1,o=-1;if(void 0===e)for(const e of t)++o,null!=e&&(r>e||void 0===r&&e>=e)&&(r=e,n=o);else for(let i of t)null!=(i=e(i,++o,t))&&(r>i||void 0===r&&i>=i)&&(r=i,n=o);return n}function ce(t,e){return[t,e]}function ue(t,e=yt){if(1===e.length)return he(t,e);let r,n=-1,o=-1;for(const i of t)++o,(n<0?0===e(i,i):e(i,r)<0)&&(r=i,n=o);return n}var fe=de(Math.random);function de(t){return function(e,r=0,n=e.length){let o=n-(r=+r);for(;o;){const n=t()*o--|0,i=e[o+r];e[o+r]=e[n+r],e[n+r]=i}return e}}function pe(t){if(!(o=t.length))return[];for(var e=-1,r=ne(t,ve),n=new Array(r);++e<r;)for(var o,i=-1,s=n[e]=new Array(o);++i<o;)s[i]=t[i][e];return n}function ve(t){return t.length}function me(t){return t instanceof Set?t:new Set(t)}function ge(t,e){const r=t[Symbol.iterator](),n=new Set;for(const t of e){if(n.has(t))continue;let e,o;for(;({value:e,done:o}=r.next());){if(o)return!1;if(n.add(e),Object.is(t,e))break}}return!0}function ye(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}var we=ye(Object.freeze({__proto__:null,bisect:It,bisectRight:It,bisectLeft:Mt,bisectCenter:Ct,ascending:yt,bisector:wt,count:Et,cross:function(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),r=(t=t.map(Ot)).map(Bt),n=t.length-1,o=new Array(n+1).fill(0),i=[];if(n<0||r.some(Vt))return i;for(;;){i.push(o.map(((e,r)=>t[r][e])));let s=n;for(;++o[s]===r[s];){if(0===s)return e?i.map(e):i;o[s--]=0}}},cumsum:function(t,e){var r=0,n=0;return Float64Array.from(t,void 0===e?t=>r+=+t||0:o=>r+=+e(o,n++,t)||0)},descending:function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},deviation:zt,extent:jt,Adder:St,fsum:function(t,e){const r=new St;if(void 0===e)for(let e of t)(e=+e)&&r.add(e);else{let n=-1;for(let o of t)(o=+e(o,++n,t))&&r.add(o)}return+r},fcumsum:function(t,e){const r=new St;let n=-1;return Float64Array.from(t,void 0===e?t=>r.add(+t||0):o=>r.add(+e(o,++n,t)||0))},group:Dt,groups:function(t,...e){return Lt(t,Array.from,Pt,e)},index:function(t,...e){return Lt(t,Pt,qt,e)},indexes:function(t,...e){return Lt(t,Array.from,qt,e)},rollup:Ft,rollups:function(t,e,...r){return Lt(t,Array.from,e,r)},groupSort:function(t,e,r){return(1===e.length?Ht(Ft(t,e,r),(([t,e],[r,n])=>yt(e,n)||yt(t,r))):Ht(Dt(t,r),(([t,r],[n,o])=>e(r,o)||yt(t,n)))).map((([t])=>t))},bin:ee,histogram:ee,thresholdFreedmanDiaconis:function(t,e,r){return Math.ceil((r-e)/(2*(se(t,.75)-se(t,.25))*Math.pow(Et(t),-1/3)))},thresholdScott:function(t,e,r){return Math.ceil((r-e)/(3.5*zt(t)*Math.pow(Et(t),-1/3)))},thresholdSturges:te,max:re,maxIndex:ae,mean:function(t,e){let r=0,n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++r,n+=e);else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(i=+i)>=i&&(++r,n+=i)}if(r)return n/r},median:le,merge:function(t){return Array.from(function*(t){for(const e of t)yield*e}(t))},min:ne,minIndex:he,nice:Xt,pairs:function(t,e=ce){const r=[];let n,o=!1;for(const i of t)o&&r.push(e(n,i)),n=i,o=!0;return r},permute:Ut,quantile:se,quantileSorted:function(t,e,r=bt){if(n=t.length){if((e=+e)<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,o=(n-1)*e,i=Math.floor(o),s=+r(t[i],i,t);return s+(+r(t[i+1],i+1,t)-s)*(o-i)}},quickselect:oe,range:function(t,e,r){t=+t,e=+e,r=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+r;for(var n=-1,o=0|Math.max(0,Math.ceil((e-t)/r)),i=new Array(o);++n<o;)i[n]=t+n*r;return i},least:function(t,e=yt){let r,n=!1;if(1===e.length){let o;for(const i of t){const t=e(i);(n?yt(t,o)<0:0===yt(t,t))&&(r=i,o=t,n=!0)}}else for(const o of t)(n?e(o,r)<0:0===e(o,o))&&(r=o,n=!0);return r},leastIndex:ue,greatest:function(t,e=yt){let r,n=!1;if(1===e.length){let o;for(const i of t){const t=e(i);(n?yt(t,o)>0:0===yt(t,t))&&(r=i,o=t,n=!0)}}else for(const o of t)(n?e(o,r)>0:0===e(o,o))&&(r=o,n=!0);return r},greatestIndex:function(t,e=yt){if(1===e.length)return ae(t,e);let r,n=-1,o=-1;for(const i of t)++o,(n<0?0===e(i,i):e(i,r)>0)&&(r=i,n=o);return n},scan:function(t,e){const r=ue(t,e);return r<0?void 0:r},shuffle:fe,shuffler:de,sum:function(t,e){let r=0;if(void 0===e)for(let e of t)(e=+e)&&(r+=e);else{let n=-1;for(let o of t)(o=+e(o,++n,t))&&(r+=o)}return r},ticks:Yt,tickIncrement:Kt,tickStep:function(t,e,r){var n=Math.abs(e-t)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),i=n/o;return i>=Gt?o*=10:i>=Zt?o*=5:i>=Qt&&(o*=2),e<t?-o:o},transpose:pe,variance:kt,zip:function(){return pe(arguments)},every:function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let r=-1;for(const n of t)if(!e(n,++r,t))return!1;return!0},some:function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let r=-1;for(const n of t)if(e(n,++r,t))return!0;return!1},filter:function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");const r=[];let n=-1;for(const o of t)e(o,++n,t)&&r.push(o);return r},map:function(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,((r,n)=>e(r,n,t)))},reduce:function(t,e,r){if("function"!=typeof e)throw new TypeError("reducer is not a function");const n=t[Symbol.iterator]();let o,i,s=-1;if(arguments.length<3){if(({done:o,value:r}=n.next()),o)return;++s}for(;({done:o,value:i}=n.next()),!o;)r=e(r,i,++s,t);return r},reverse:function(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()},sort:Ht,difference:function(t,...e){t=new Set(t);for(const r of e)for(const e of r)t.delete(e);return t},disjoint:function(t,e){const r=e[Symbol.iterator](),n=new Set;for(const e of t){if(n.has(e))return!1;let t,o;for(;({value:t,done:o}=r.next())&&!o;){if(Object.is(e,t))return!1;n.add(t)}}return!0},intersection:function(t,...e){t=new Set(t),e=e.map(me);t:for(const r of t)for(const n of e)if(!n.has(r)){t.delete(r);continue t}return t},subset:function(t,e){return ge(e,t)},superset:ge,union:function(...t){const e=new Set;for(const r of t)for(const t of r)e.add(t);return e},InternMap:Tt,InternSet:_t}));function be(t){return t=(t=(t=t.replace("\\r\\n","\r\n")).split("\r\n")).filter((function(t){return!0!==new RegExp(" 0$","gi").test(t)&&!1!==new RegExp("\\d$","gi").test(t)})).map((function(t){return t.split(/\:{0,1} +(?=\d)/)})).reduce((function(t,e,r){return t[e[0]]=e[1],t}),{})}var xe={lpsolve:{reformat:gt,solve:function(t){return new Promise((function(e,r){"undefined"!=typeof window&&r("Function Not Available in Browser");var n=gt(t);t.external||r("Data for this function must be contained in the 'external' attribute. Not seeing anything there."),t.external.binPath||r("No Executable | Binary path provided in arguments as 'binPath'"),t.external.args||r("No arguments array for cli | bash provided on 'args' attribute"),t.external.tempName||r("No 'tempName' given. This is necessary to produce a staging file for the solver to operate on"),we.writeFile(t.external.tempName,n,(function(n,o){if(n)r(n);else{var i=we.execFile;t.external.args.push(t.external.tempName),i(t.external.binPath,t.external.args,(function(t,n){if(t)if(1===t.code)e(be(n));else{var o={code:t.code,meaning:{"-2":"Out of Memory",1:"SUBOPTIMAL",2:"INFEASIBLE",3:"UNBOUNDED",4:"DEGENERATE",5:"NUMFAILURE",6:"USER-ABORT",7:"TIMEOUT",9:"PRESOLVED",25:"ACCURACY ERROR",255:"FILE-ERROR"}[t.code],data:n};r(o)}else e(be(n))}))}}))}))}}},Ie=function(t,e){var r,n,o,i,s,a=e.optimize,l=JSON.parse(JSON.stringify(e.optimize)),h=Object.keys(e.optimize),c=0,u={},f="",d={},p=[];for(delete e.optimize,n=0;n<h.length;n++)l[h[n]]=0;for(n=0;n<h.length;n++){for(s in e.optimize=h[n],e.opType=a[h[n]],r=t.Solve(e,void 0,void 0,!0),h)if(!e.variables[h[s]])for(i in r[h[s]]=r[h[s]]?r[h[s]]:0,e.variables)e.variables[i][h[s]]&&r[i]&&(r[h[s]]+=r[i]*e.variables[i][h[s]]);for(f="base",o=0;o<h.length;o++)r[h[o]]?f+="-"+(1e3*r[h[o]]|0)/1e3:f+="-0";if(!u[f]){for(u[f]=1,c++,o=0;o<h.length;o++)r[h[o]]&&(l[h[o]]+=r[h[o]]);delete r.feasible,delete r.result,p.push(r)}}for(n=0;n<h.length;n++)e.constraints[h[n]]={equal:l[h[n]]/c};for(n in e.optimize="cheater-"+Math.random(),e.opType="max",e.variables)e.variables[n].cheater=1;for(n in p)for(i in p[n])d[i]=d[i]||{min:1e99,max:-1e99};for(n in d)for(i in p)p[i][n]?(p[i][n]>d[n].max&&(d[n].max=p[i][n]),p[i][n]<d[n].min&&(d[n].min=p[i][n])):(p[i][n]=0,d[n].min=0);return{midpoint:r=t.Solve(e,void 0,void 0,!0),vertices:p,ranges:d}},Me=rt.Constraint,Ce=rt.Variable,Ee=rt.Numeral,Be=rt.Term,Ve=function(){this.Model=vt,this.branchAndCut=ht,this.Constraint=Me,this.Variable=Ce,this.Numeral=Ee,this.Term=Be,this.Tableau=it,this.lastSolvedModel=null,this.External=xe,this.Solve=function(t,e,r,n){if(n)for(var o in mt)t=mt[o](t);if(!t)throw new Error("Solver requires a model to operate on");if("object"==typeof t.optimize&&Object.keys(t.optimize>1))return Ie(this,t);if(t.external){var i=Object.keys(xe);if(i=JSON.stringify(i),!t.external.solver)throw new Error("The model you provided has an 'external' object that doesn't have a solver attribute. Use one of the following:"+i);if(!xe[t.external.solver])throw new Error("No support (yet) for "+t.external.solver+". Please use one of these instead:"+i);return xe[t.external.solver].solve(t)}t instanceof vt==!1&&(t=new vt(e).loadJson(t));var s=t.solve();if(this.lastSolvedModel=t,s.solutionSet=s.generateSolutionSet(),r)return s;var a={};return a.feasible=s.feasible,a.result=s.evaluation,a.bounded=s.bounded,s._tableau.__isIntegral&&(a.isIntegral=!0),Object.keys(s.solutionSet).forEach((function(t){0!==s.solutionSet[t]&&(a[t]=s.solutionSet[t])})),a},this.ReformatLP=gt,this.MultiObjective=function(t){return Ie(this,t)}};"object"==typeof window?window.solver=new Ve:"object"==typeof self&&(self.solver=new Ve);var Oe=new Ve;function ke(t){function e(e){const r=Object.create(null),o=Object.create(null),i=Object.create(null),s=new Map(e.idescendants().entries().map((([t,e])=>[e,t.toString()])));function a(t){return n(s.get(t))}function l(t){return`${n(s.get(t.source))} -> ${n(s.get(t.target))}`}function h(t,e){return`rank: ${n(s.get(t))} -> ${n(s.get(e))}`}const c=[];for(const n of e){const e=a(n);o[e]=1,r[e]={opt:n.children.length};const i=t.rank(n);void 0!==i&&c.push([i,n])}for(const t of e.ilinks()){const e=r[a(t.source)],n=r[a(t.target)],o=l(t);i[o]={min:1},e[o]=-1,e.opt++,n[o]=1,n.opt--}let[u,...f]=c.sort((([t],[e])=>t-e));for(const t of f){const[e,n]=u,[o,s]=t,l=r[a(n)],c=r[a(s)],f=h(n,s);if(e<o)i[f]={min:1},l[f]=-1,c[f]=1;else{const t=h(s,n);i[f]={min:0},i[t]={min:0},l[f]=-1,l[t]=1,c[f]=1,c[t]=-1}u=t}const{feasible:d,...p}=Oe.Solve({optimize:"opt",opType:"max",constraints:i,variables:r,ints:o});if(!d)throw c.length?new Error("could not find a feasbile simplex layout, check that rank accessors are not ill-defined"):new Error("could not find feasbile simplex layout, this should not happen");for(const t of e)t.layer=p[a(t)]||0}return e.rank=function(e){if(void 0===e)return t.rank;{const{rank:r,...n}=t;return ke({...n,rank:e})}},e}function ze(){}function je(...t){if(t.length)throw new Error(`got arguments to simplex(${t}), but constructor takes no aruguments.`);return ke({rank:ze})}function Se(...t){if(t.length)throw new Error(`got arguments to median(${t}), but constructor takes no aruguments.`);return function(t,e){const r=new a;for(const[e,n]of t.entries())for(const t of n.ichildren())r.setIfAbsent(t,[]).push(e);const n=new a;let o=-1;for(const i of e){const e=le(r.getDefault(i,[]));void 0===e?(n.set(i,o),o=+!((o+1)/(t.length+1))*(t.length+1)-1):n.set(i,e)}e.sort(((t,e)=>n.getThrow(t)-n.getThrow(e)))}}function Te(t){function e(e){e.slice(0,e.length-1).forEach(((r,n)=>t.order(r,e[n+1])))}return e.order=function(e){if(void 0===e)return t.order;{const r=e,{order:n,...o}=t;return Te({...o,order:r})}},e}function _e(...t){if(t.length)throw new Error(`got arguments to twoLayer(${t}), but constructor takes no aruguments.`);return Te({order:Se()})}function $e(t){function e(e){t.layering(e);for(const t of e){const e=t.layer;if(void 0===e)throw new Error(s`layering did not assign layer to node '${t}'`);if(e<0)throw new Error(s`layering assigned a negative layer (${e}) to node '${t}'`)}const r=function(t){const e=[];for(const r of t.descendants()){const t=r.layer;(e[t]||(e[t]=[])).push(r),r.dataChildren=r.dataChildren.map((n=>{const o=n.child.layer;if(o<=t)throw new Error(s`layering left child node '${n.child}' (${o}) `+s`with a greater or equal layer to parent node '${r}' (${t})`);let i=n.child;for(let r=o-1;r>t;r--){const t=new N;t.dataChildren.push(new l(i,void 0)),(e[r]||(e[r]=[])).push(t),i=t}return new l(i,n.data)}))}return e}(e),n=function(t){const e=new Map;return function(r){let n=e.get(r);if(void 0===n){n=t(r);const[o,i]=n;if(o<0||i<0)throw new Error(s`all node sizes must be non-negative, but got width ${o} and height ${i} for node '${r}'`);e.set(r,n)}return n}}(t.nodeSize);let o=0;for(const t of r){const e=Math.max(...t.map((t=>n(t)[1])));for(const r of t)r.y=o+e/2;o+=e}if(o<=0)throw new Error("at least one node must have positive height, but total height was zero");t.decross(r);let i=t.coord(r,n);for(const t of r)for(const e of t){if(void 0===e.x)throw new Error(s`coord didn't assign an x to node '${e}'`);if(e.x<0||e.x>i)throw new Error(`coord assgined an x (${e.x}) outside of [0, ${i}]`)}const a=r;if(null!==t.size){const[e,r]=t.size;for(const t of a)for(const n of t)n.x*=e/i,n.y*=r/o;i=e,o=r}const h=e;return function(t){for(const e of t)e instanceof N||(e.dataChildren=e.dataChildren.map((t=>{let r=t.child;const n=[{x:e.x,y:e.y}];for(;r instanceof N;)n.push({x:r.x,y:r.y}),[r]=r.ichildren();return n.push({x:r.x,y:r.y}),new l(r,t.data,n)})))}(h),{dag:h,width:i,height:o}}return e.layering=function(e){if(void 0===e)return t.layering;{const{layering:r,...n}=t;return $e({...n,layering:e})}},e.decross=function(e){if(void 0===e)return t.decross;{const{decross:r,...n}=t;return $e({...n,decross:e})}},e.coord=function(e){if(void 0===e)return t.coord;{const{coord:r,...n}=t;return $e({...n,coord:e})}},e.size=function(e){return void 0!==e?$e({...t,size:e}):t.size},e.nodeSize=function(e){if(void 0!==e){const{nodeSize:r,...n}=t;return $e({...n,nodeSize:e})}return t.nodeSize},e}function Re(t){const e=+!(t instanceof N);return[e,e]}function Ae(t){function e(e){if(t.topDown)for(const t of e.depth())t.layer=t.value;else!function(t){const e=Math.max(...t.iroots().map((t=>t.value)));for(const r of t)r.layer=e-r.value}(e.height())}return e.topDown=function(e){return void 0===e?t.topDown:Ae({...t,topDown:e})},e}function Ne(...t){if(t.length)throw new Error(`got arguments to longestPath(${t}), but constructor takes no aruguments.`);return Ae({topDown:!0})}var Pe=function(t,e){return t<e};function De(t){if(!(this instanceof De))return new De(t);this.array=[],this.size=0,this.compare=t||Pe}De.prototype.clone=function(){var t=new De(this.compare);return t.size=this.size,t.array=this.array.slice(0,this.size),t},De.prototype.add=function(t){var e,r,n=this.size;for(this.array[this.size]=t,this.size+=1;n>0&&(e=n-1>>1,r=this.array[e],this.compare(t,r));)this.array[n]=r,n=e;this.array[n]=t},De.prototype.heapify=function(t){var e;for(this.array=t,this.size=t.length,e=this.size>>1;e>=0;e--)this._percolateDown(e)},De.prototype._percolateUp=function(t,e){for(var r,n,o=this.array[t];t>0&&(r=t-1>>1,n=this.array[r],e||this.compare(o,n));)this.array[t]=n,t=r;this.array[t]=o},De.prototype._percolateDown=function(t){for(var e,r,n,o=this.size,i=this.size>>>1,s=this.array[t];t<i&&(r=(e=1+(t<<1))+1,n=this.array[e],r<o&&this.compare(this.array[r],n)&&(e=r,n=this.array[r]),this.compare(n,s));)this.array[t]=n,t=e;this.array[t]=s},De.prototype._removeAt=function(t){if(!(t>this.size-1||t<0))return this._percolateUp(t,!0),this.poll()},De.prototype.remove=function(t){for(var e=0;e<this.size;e++)if(!this.compare(this.array[e],t)&&!this.compare(t,this.array[e]))return this._removeAt(e),!0;return!1},De.prototype.removeOne=function(t){if("function"==typeof t)for(var e=0;e<this.size;e++)if(t(this.array[e]))return this._removeAt(e)},De.prototype.removeMany=function(t,e){if("function"!=typeof t||this.size<1)return[];e=e?Math.min(e,this.size):this.size;for(var r=0,n=new Array(e),o=0,i=new Array(this.size);r<e&&!this.isEmpty();){var s=this.poll();t(s)?n[r++]=s:i[o++]=s}n.length=r;for(var a=0;a<o;)this.add(i[a++]);return n},De.prototype.peek=function(){if(0!=this.size)return this.array[0]},De.prototype.poll=function(){if(0!=this.size){var t=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,t}},De.prototype.replaceTop=function(t){if(0!=this.size){var e=this.array[0];return this.array[0]=t,this._percolateDown(0),e}},De.prototype.trim=function(){this.array=this.array.slice(0,this.size)},De.prototype.isEmpty=function(){return 0===this.size},De.prototype.forEach=function(t){if(!this.isEmpty()&&"function"==typeof t)for(var e=0,r=this.clone();!r.isEmpty();)t(r.poll(),e++)},De.prototype.kSmallest=function(t){if(0==this.size)return[];t=Math.min(this.size,t);var e=new De(this.compare);const r=Math.min((t>0?Math.pow(2,t-1):0)+1,this.size);e.size=r,e.array=this.array.slice(0,r);for(var n=new Array(t),o=0;o<t;o++)n[o]=e.poll();return n};var Fe=De;class qe{constructor(){this.before=[],this.parents=[]}}function Le(t){function e(e){const r=t.width||Math.floor(Math.sqrt(e.size()+.5)),o=new a(e.idescendants().map((t=>[t,new qe])));for(const t of e)for(const e of t.ichildren())o.getThrow(e).parents.push(t);const i=new Fe((function(t,e){const r=o.getThrow(t).before,n=o.getThrow(e).before;for(const[t,e]of r.entries()){const r=n[t];if(void 0===r)return!1;if(e<r)return!0;if(r<e)return!1}return!0}));for(const t of e.iroots())i.add(t);let s,l=0,h=0,c=0;for(;s=i.poll();){c<r&&o.getThrow(s).parents.every((t=>n(t.layer)<h))?(s.layer=h,c++):(s.layer=++h,c=1);for(const t of s.ichildren()){const{before:e,parents:r}=o.getThrow(t);e.push(l),e.length===r.length&&(e.sort(((t,e)=>e-t)),i.add(t))}l++}}return e.width=function(e){if(void 0===e)return t.width;if(e<0)throw new Error(`width must be non-negative: ${e}`);return Le({...t,width:e})},e}function Ue(t){function e(e){const r=e.reduce(((t,e)=>t+e.length*e.length),0),o=e.reduce(((t,e)=>t+e.reduce(((t,e)=>t+e.ichildren().length),0)),0);if("large"!==t.large&&r>2500)throw new Error('size of dag to decrossOpt is too large and will likely crash instead of complete, enable "large" grahps to run anyway');if("large"!==t.large&&"medium"!==t.large&&(r>900||o>100))throw new Error('size of dag to decrossOpt is too large and will likely not complete, enable "medium" grahps to run anyway');const i={optimize:"opt",opType:"min",constraints:Object.create(null),variables:Object.create(null),ints:Object.create(null)},s=new Map;for(const[t,r]of e.entries())for(const[e,n]of r.entries())s.set(n,`(${t} ${e})`);function a(...t){return t.map((t=>n(s.get(t)))).sort().join(" => ")}function l(t,e){return n(s.get(t)).localeCompare(n(s.get(e)))}function h(t,e){e.sort(l);for(const[r,n]of e.slice(0,e.length-1).entries())for(const o of e.slice(r+1)){const e=a(n,o);t.ints[e]=1,t.constraints[e]=Object.assign(Object.create(null),{max:1}),t.variables[e]=Object.assign(Object.create(null),{opt:0,[e]:1})}for(const[r,n]of e.slice(0,e.length-1).entries())for(const[o,i]of e.slice(r+1).entries())for(const s of e.slice(r+o+2)){const e=a(n,i),r=a(n,s),o=a(i,s),l=a(n,i,s),h=l+"+";t.constraints[h]=Object.assign(Object.create(null),{max:1}),t.variables[e][h]=1,t.variables[r][h]=-1,t.variables[o][h]=1;const c=l+"-";t.constraints[c]=Object.assign(Object.create(null),{min:0}),t.variables[e][c]=1,t.variables[r][c]=-1,t.variables[o][c]=1}}function c(t,e){for(const[r,n]of e.slice(0,e.length-1).entries())for(const o of e.slice(r+1)){const e=a(n,o);for(const r of n.ichildren())for(const n of o.ichildren()){if(r===n)continue;const o=a(r,n),i=`slack (${e}) (${o})`,s=`${i} +`,h=`${i} -`;t.variables[i]=Object.assign(Object.create(null),{opt:1,[s]:1,[h]:1});const c=l(r,n),u=Math.max(c,0);t.constraints[s]=Object.assign(Object.create(null),{min:u}),t.variables[e][s]=1,t.variables[o][s]=c,t.constraints[h]=Object.assign(Object.create(null),{min:-u}),t.variables[e][h]=-1,t.variables[o][h]=-c}}}for(const t of e)h(i,t);for(const t of e.slice(0,e.length-1))c(i,t);const u=Oe.Solve(i);for(const t of e)t.sort(((t,e)=>l(t,e)*(u[a(t,e)]||-1)))}return e.large=function(e){return void 0===e?t.large:Ue({...t,large:e})},e}function He(t,e){for(const t of e)t.x=0;const r=new a;for(const e of t)for(const t of e.ichildren()){if(void 0===t.x)throw new Error(s`internal error: unexpected undefined x for '${t}'`);const o=r.getDefault(t,0)+1;r.set(t,o),t.x+=(n(e.x)-t.x)/o}}class We{constructor(){this.mean=0,this.count=0}add(t){this.mean+=(t-this.mean)/++this.count}}function Je(t){function e(e,r){const o=r.length*r.length,i=e.reduce(((t,e)=>t+e.ichildren().length),0);if("large"!==t.large&&o>2500)throw new Error('size of dag to twolayerOpt is too large and will likely crash, enable "large" dags to run anyway');if("large"!==t.large&&"medium"!==t.large&&(o>900||i>100))throw new Error('size of dag to twolayerOpt is too large and will likely not finish, enable "medium" dags to run anyway');const s={optimize:"opt",opType:"min",constraints:Object.create(null),variables:Object.create(null),ints:Object.create(null)},a=new Map;for(const[t,n]of[e,r].entries())for(const[e,r]of n.entries())a.set(r,`(${t} ${e})`);function l(...t){return t.map((t=>n(a.get(t)))).sort().join(" => ")}function h(t,e){return n(a.get(t)).localeCompare(n(a.get(e)))}r.sort(h);for(const[t,e]of r.slice(0,r.length-1).entries())for(const n of r.slice(t+1)){const t=l(e,n);s.ints[t]=1,s.constraints[t]=Object.assign(Object.create(null),{max:1}),s.variables[t]=Object.assign(Object.create(null),{opt:0,[t]:1})}for(const[t,e]of r.slice(0,r.length-1).entries())for(const[n,o]of r.slice(t+1).entries())for(const i of r.slice(t+n+2)){const t=l(e,o),r=l(e,i),n=l(o,i),a=l(e,o,i),h=a+"+";s.constraints[h]=Object.assign(Object.create(null),{max:1}),s.variables[t][h]=1,s.variables[r][h]=-1,s.variables[n][h]=1;const c=a+"-";s.constraints[c]=Object.assign(Object.create(null),{min:0}),s.variables[t][c]=1,s.variables[r][c]=-1,s.variables[n][c]=1}for(const[t,r]of e.slice(0,e.length-1).entries())for(const n of e.slice(t+1))for(const t of r.ichildren())for(const e of n.ichildren()){if(t===e)continue;const r=l(t,e);s.variables[r].opt+=h(t,e)}const c=Oe.Solve(s);r.sort(((t,e)=>h(t,e)*(+c[l(t,e)]||-1)))}return e.large=function(e){return void 0===e?t.large:Je({...t,large:e})},e}function Ge(t,e){const r=t.findIndex((t=>t<=e));return r>=0?r:t.length}function Ze(t,e){function r(r){const o=function(t){const e=[...t.idescendants("before")];for(const[t,r]of e.entries())r.layer=t;return e}(r),i=o.length-1;if(0===i){const[r]=o;r.x=t/2,r.y=e/2}else{!function(r,o,i){let a=0,l=0;for(const{source:t,target:e}of r.ilinks())if(e.layer>t.layer+1){const r=n(n(o.get(t)).get(e));if(void 0===r)throw new Error(s`indexer didn't index ${t} -> ${e}`);a=Math.min(a,r),l=Math.max(l,r)}a===l&&(a=-1,l=1);for(const n of r)n.x=-a/(l-a)*t,n.y=n.layer/i*e;!function(r,o,i,a,l){for(const{source:h,target:c,points:u}of r.ilinks()){if(u.length=0,u.push({x:h.x,y:h.y}),c.layer-h.layer>1){const r=n(n(o.get(h)).get(c));if(void 0===r)throw new Error(s`indexer didn't index ${h} -> ${c}`);const f=(r-a)/(l-a)*t,d=(h.layer+1)/i*e,p=(c.layer-1)/i*e;c.layer-h.layer>2?u.push({x:f,y:d},{x:f,y:p}):u.push({x:f,y:d})}u.push({x:c.x,y:c.y})}}(r,o,i,a,l)}(r,function(t){const e=[];for(const r of t)for(const t of r.ichildren())t.layer>r.layer+1&&e.push([r,t]);e.sort((([t,e],[r,n])=>e.layer===n.layer?r.layer-t.layer:e.layer-n.layer));const r=new Map,n=[],o=[];for(const[t,i]of e){let e=r.get(t);void 0===e&&(e=new Map,r.set(t,e));const s=Ge(o,t.layer),a=Ge(n,t.layer);s<a?(e.set(i,-s-1),o[s]=i.layer-1):(e.set(i,a+1),n[a]=i.layer-1)}return r}(o),i)}return r}return r.size=function(r){if(void 0===r)return[t,e];{const[t,e]=r;return Ze(t,e)}},r}function Qe(t){function e(e){const r=new a,n=new a;for(const t of e.slice().reverse())for(const e of t){r.set(e,e);let t=0;for(const o of e.ichildren())r.delete(o),t+=n.getThrow(o);n.set(e,Math.max(t,1))}let o=0;for(const e of r.values()){const r=n.getThrow(e);e.columnIndex=o+(t?Math.floor((r-1)/2):0),i(e,o),o+=r}function i(e,r){let o=r;for(const r of e.ichildren()){if(void 0!==r.columnIndex)return;const e=n.getThrow(r);r.columnIndex=o+(t?Math.floor((e-1)/2):0),i(r,o),o+=e}}}return e.center=function(e){return void 0===e?t:Qe(e)},e}function Ye(...t){if(t.length)throw new Error(`got arguments to center(${t}), but constructor takes no aruguments.`);return Qe(!1)}function Ke(...t){if(t.length)throw new Error(`got arguments to spread(${t}), but constructor takes no aruguments.`);return function(t,e,r){const n=Math.max(...t.map((t=>Math.max(...t.map((t=>t.columnIndex))))))+1,o=[];for(let t=0;t<n;++t)o.push(e(t));const i=[0];for(let t=0;t<n-1;++t){const e=i[t]+o[t]+r(t);i.push(e)}const s=i[n-1]+o[n-1];for(const e of t)for(const t of e){const e=i[t.columnIndex],r=o[t.columnIndex];t.x0=e/s,t.x1=(e+r)/s}}}class Xe extends c{constructor(){super(void 0)}}function tr(t,e,r,n,o,i,s,h,c,u){function f(f){const d=function(t){const e=new a;for(const r of t.idescendants("after")){const t=Math.max(0,...r.ichildren().map((t=>e.getThrow(t))));e.set(r,u(r)+t)}return e}(f);r(f);for(const t of f){const e=t.layer;if(void 0===e)throw new Error(`layering did not assign layer to node '${t.data}'`);if(e<0)throw new Error(`layering assigned a negative layer (${e}) to node '${t.data}'`)}const p=function(t){const e=[],r=Math.max(...t.idescendants().map((t=>t.layer)));for(const n of t){const t=n.layer;if((e[t]||(e[t]=[])).push(n),n.dataChildren=n.dataChildren.map((r=>{const o=r.child.layer;if(o<=t)throw new Error(`layering left child node "${r.child}" (${o}) with a greater or equal layer to parent node "${n.data}" (${t})`);let i=r.child;for(let r=o-1;r>t;r--){const t=new Xe;t.dataChildren.push(new l(i,void 0)),(e[r]||(e[r]=[])).push(t),i=t}return new l(i,r.data)})),0===n.dataChildren.length&&t<r){let t=new Xe;(e[r]||(e[r]=[])).push(t);for(let o=r-1;o>n.layer;o--){const r=new Xe;r.dataChildren.push(new l(t,void 0)),(e[o]||(e[o]=[])).push(r),t=r}n.dataChildren=[new l(t,void 0)]}}return e}(f);let v;if(1===p.length){const[t]=p;for(const e of t)e.y0=0,e.y1=1;v=1}else{const t=function(t){const e=new a;for(const r of t.idescendants("before")){const t=e.getDefault(r,0)+u(r);e.set(r,t);for(const n of r.ichildren()){const r=Math.max(t,e.getDefault(n,0));e.set(n,r)}}return e}(f);let e=p[0];const r=Math.max(...e.map((t=>(function(t,e="failed assert"){if(!t)throw new Error(`internal error: ${e}`)}(!(t instanceof Xe)),d.getThrow(t)))));for(const r of e){const e=r.y1=t.getThrow(r);r.y0=e-u(r)}v=0;for(const[r,n]of p.slice(1).entries()){v+=s(e,n,r);for(const e of n){const r=e.y1=v+t.getThrow(e);e.y0=r-u(e)}e=n}v+=r}n(p),o(p);for(const t of p)for(const e of t){if(void 0===e.columnIndex)throw new Error(`column did not assign an index to node '${e.data}'`);if(e.columnIndex<0)throw new Error(`column assigned a negative index (${e.columnIndex}) to node '${e.data}'`)}i(p,h,c);for(const t of p)for(const e of t){if(void 0===e.x0||void 0===e.x1)throw new Error(`coord did not assign both x coordinates to node '${e.data}'`);if(e.x0>e.x1)throw new Error(`coord did not assign valid x coordinates to node '${e.data}'`)}const m=f;return function(r,n){for(const o of r)o.x0*=t,o.x1*=t,o.y0*=e/n,o.y1*=e/n}(m,v),function(t){for(const e of t)if(!(e instanceof Xe)){const t=[];for(const r of e.dataChildren){let n=r.child;const o=[{x:(e.x0+e.x1)/2,y:e.y1}];for(;void 0!==n&&n instanceof Xe;)o.push({x:(n.x0+n.x1)/2,y:n.y0}),[n]=n.ichildren();if(void 0!==n){o.push({x:(n.x0+n.x1)/2,y:n.y0});const e=new l(n,r.data,o);t.push(e)}}e.dataChildren=t}}(m),m}return f.size=function(a){if(void 0===a)return[t,e];{const[t,e]=a;return tr(t,e,r,n,o,i,s,h,c,u)}},f.layering=function(a){return void 0===a?r:tr(t,e,a,n,o,i,s,h,c,u)},f.decross=function(a){return void 0===a?n:tr(t,e,r,a,o,i,s,h,c,u)},f.column=function(a){return void 0===a?o:tr(t,e,r,n,a,i,s,h,c,u)},f.coord=function(a){return void 0===a?i:tr(t,e,r,n,o,a,s,h,c,u)},f.layerSeparation=function(a){return void 0===a?s:tr(t,e,r,n,o,i,a,h,c,u)},f.columnWidth=function(a){return void 0===a?h:tr(t,e,r,n,o,i,s,a,c,u)},f.columnSeparation=function(a){return void 0===a?c:tr(t,e,r,n,o,i,s,h,a,u)},f}function er(){return 1}function rr(){return 10}function nr(){return 1}function or(t){if(t instanceof Xe)return 0;if(function(t){const e=t.heightRatio;return void 0===e||"number"==typeof e}(t))return t.heightRatio||0;throw new Error("default height ratio expects node with heightRatio property but got nothing")}function ir(t){function e(e){const r=new a;for(const t of e)for(const e of t)for(const t of e.ichildren())r.setIfAbsent(t,[]).push(e);const o=Math.max(...e.map((t=>t.length))),i=e.findIndex((t=>t.length===o));for(const[t,r]of e[i].entries())r.columnIndex=t;for(const t of e.slice(0,i).reverse())s(t);for(const t of e.slice(i+1))l(t);function s(e){if(e.length===o)for(const[t,r]of e.entries())r.columnIndex=t;else{const r=h(e.map(((e,r)=>{if(0===e.dataChildren.length)return r;const o=[...e.ichildren().map((t=>n(t.columnIndex)))];return t?o.sort(((t,e)=>t-e))[Math.floor((o.length-1)/2)]:Math.min(...o)})));for(const[t,n]of e.entries())n.columnIndex=r[t]}}function l(e){if(e.length===o)for(const[t,r]of e.entries())r.columnIndex=t;else{const o=h(e.map(((e,o)=>{const i=r.getDefault(e,[]);if(0===i.length)return o;const s=i.map((t=>n(t.columnIndex)));return t?s[Math.floor((s.length-1)/2)]:Math.min(...s)})));for(const[t,r]of e.entries())r.columnIndex=o[t]}}function h(t){for(const e of t)if(!isFinite(e))throw new Error("columnComplex: non-finite column index encountered");let e=-1;t=t.map((t=>(t<=e&&(t=e+1),e=t,t)));const r=Math.max(...t)-(o-1);return r>0&&(t=t.map(((t,e)=>Math.max(t-r,e)))),t}}return e.center=function(e){return void 0===e?t:ir(e)},e}t.ArqDummyNode=Xe,t.SugiDummyNode=N,t.arqcoordSpread=Ke,t.arquint=function(...t){if(t.length)throw new Error(`got arguments to arquint(${t}), but constructor takes no aruguments.`);return tr(1,1,Ne().topDown(!1),_e(),Ye(),Ke(),er,rr,nr,or)},t.columnAdjacent=function(...t){if(t.length)throw new Error(`got arguments to adjacent(${t}), but constructor takes no aruguments.`);return ir(!1)},t.columnCenter=function(...t){if(t.length)throw new Error(`got arguments to center(${t}), but constructor takes no aruguments.`);return function(t){const e=Math.max(...t.map((t=>t.length)));for(const r of t){const t=Math.floor((e-r.length)/2);for(const[e,n]of r.entries())n.columnIndex=t+e}}},t.columnComplex=Ye,t.columnLeft=function(...t){if(t.length)throw new Error(`got arguments to left(${t}), but constructor takes no aruguments.`);return function(t){for(const e of t)for(const[t,r]of e.entries())r.columnIndex=t}},t.coordCenter=function(...t){if(t.length)throw new Error(`got arguments to center(${t}), but constructor takes no aruguments.`);return function(t,e){const r=t.map((t=>{let r=0;for(const n of t){const t=e(n)[0];n.x=r+t/2,r+=t}return r})),o=Math.max(...r);if(o<=0)throw new Error("must assign nonzero width to at least one node");for(const[e,i]of t.entries()){const t=(o-r[e])/2;for(const e of i)e.x=n(e.x)+t}return o}},t.coordGreedy=function(...t){if(t.length)throw new Error(`got arguments to greedy(${t}), but constructor takes no aruguments.`);return function(t,e){const r=He,o=new a;for(const e of t)for(const t of e)o.set(t,t.ichildren().length+(t instanceof N?-3:0));for(const e of t)for(const t of e)for(const e of t.ichildren())o.set(e,o.getThrow(e)+1);let[i,...s]=t,l=0,h=0;for(const t of i){const r=e(t)[0];t.x=h+r/2,h+=r}for(const t of s){r(i,t);const s=t.map(((t,e)=>[e,t])).sort((([t,e],[r,n])=>{const i=o.getThrow(e),s=o.getThrow(n);return i===s?t-r:s-i}));for(const[r,o]of s){const i=e(o)[0];let s=n(o.x)+i/2;for(const o of t.slice(r+1)){const t=e(o)[0]/2;s=(o.x=Math.max(n(o.x),s+t))+t}h=Math.max(h,s);let a=n(o.x)-i/2;for(const o of t.slice(0,r).reverse()){const t=e(o)[0]/2;a=(o.x=Math.min(n(o.x),a-t))-t}l=Math.min(l,a)}i=t}for(const e of t)for(const t of e)t.x=n(t.x)-l;const c=h-l;if(c<=0)throw new Error("must assign nonzero width to at least one node");return c}},t.coordQuad=D,t.coordTopological=function(...t){if(t.length)throw new Error(`got arguments to topological(${t}), but constructor takes no aruguments.`);return function(t,e){for(const e of t){if(1!==e.reduce(((t,e)=>t+ +!(e instanceof N)),0))throw new Error("topological() only works with a topological layering")}const r=new a;let n=0;for(const e of t)for(const t of e)t instanceof N&&r.set(t,n++);for(const e of t)for(const t of e)t instanceof N||r.set(t,n);const[o,i,s,l]=_(t,r,e);for(const e of t)for(const t of e){const e=r.getThrow(t);for(const n of t.ichildren()){const t=r.getThrow(n);if(n instanceof N)for(const i of n.ichildren()){R(o,e,t,r.getThrow(i),1)}}}const h=A(t,e,r,T(o,i,s,l));if(h<=0)throw new Error("must assign nonzero width to at least one node");return h}},t.dagConnect=function(...t){if(t.length)throw new Error(`got arguments to dagConnect(${t}), but constructor takes no aruguments. These were probably meant as data which should be called as dagConnect()(...)`);return y(w,b)},t.dagHierarchy=function(...t){if(t.length)throw Error(`got arguments to dagHierarchy(${t}), but constructor takes no aruguments. These were probably meant as data which should be called as dagHierarchy()(...)`);return x(M,I(M))},t.dagStratify=function(...t){if(t.length)throw Error(`got arguments to dagStratify(${t}), but constructor takes no aruguments. These were probably meant as data which should be called as dagStratify()(...)`);return p(m,g,v(g))},t.decrossOpt=function(...t){if(t.length)throw new Error(`got arguments to opt(${t}), but constructor takes no aruguments.`);return Ue({large:"small"})},t.decrossTwoLayer=_e,t.layeringCoffmanGraham=function(...t){if(t.length)throw new Error(`got arguments to coffmanGraham(${t}), but constructor takes no aruguments.`);return Le({width:0})},t.layeringLongestPath=Ne,t.layeringSimplex=je,t.layeringTopological=function(...t){if(t.length)throw new Error(`got arguments to topological(${t}), but constructor takes no aruguments.`);return function(t){for(const[e,r]of t.idescendants("before").entries())r.layer=e}},t.sugiyama=function(...t){if(t.length)throw new Error(`got arguments to sugiyama(${t}), but constructor takes no aruguments.`);return $e({layering:je(),decross:_e(),coord:D(),size:null,nodeSize:Re})},t.twolayerMean=function(...t){if(t.length)throw new Error(`got arguments to mean(${t}), but constructor takes no aruguments.`);return function(t,e){const r=new a(e.map((t=>[t,new We])));for(const[e,n]of t.entries())for(const t of n.ichildren())r.getThrow(t).add(e);e.sort(((t,e)=>r.getThrow(t).mean-r.getThrow(e).mean))}},t.twolayerMedian=Se,t.twolayerOpt=function(...t){if(t.length)throw new Error(`got arguments to opt(${t}), but constructor takes no aruguments.`);return Je({large:"small"})},t.zherebko=function(...t){if(t.length)throw new Error(`got arguments to zherebko(${t}), but constructor takes no aruguments.`);return Ze(1,1)},Object.defineProperty(t,"__esModule",{value:!0})}));
